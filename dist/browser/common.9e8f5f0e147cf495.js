"use strict";(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[8592],{68136:(M,v,e)=>{e.r(v),e.d(v,{BrowseBySwitcherComponent:()=>g});var r=e(54004),c=e(53506),l=e(5e3),o=e(74202),a=e(69808);function t(i,p){1&i&&l.\u0275\u0275elementContainer(0)}let g=(()=>{class i{constructor(I,h){this.route=I,this.getComponentByBrowseByType=h}ngOnInit(){this.browseByComponent=this.route.data.pipe((0,r.U)(I=>this.getComponentByBrowseByType(I.browseDefinition.dataType)))}}return i.\u0275fac=function(I){return new(I||i)(l.\u0275\u0275directiveInject(o.gz),l.\u0275\u0275directiveInject(c.t3))},i.\u0275cmp=l.\u0275\u0275defineComponent({type:i,selectors:[["ds-browse-by-switcher"]],decls:2,vars:3,consts:[[4,"ngComponentOutlet"]],template:function(I,h){1&I&&(l.\u0275\u0275template(0,t,1,0,"ng-container",0),l.\u0275\u0275pipe(1,"async")),2&I&&l.\u0275\u0275property("ngComponentOutlet",l.\u0275\u0275pipeBind1(1,1,h.browseByComponent))},directives:[a.$G],pipes:[a.Ov],encapsulation:2}),i})()},73817:(M,v,e)=>{e.r(v),e.d(v,{CollectionPageComponent:()=>ae});var r=e(61135),c=e(39841),l=e(54004),o=e(95698),a=e(39300),t=e(86099),g=e(63900),i=e(68675),p=e(21605),I=e(87890),h=e(35471),P=e(31054),C=e(14917),d=e(46283),s=e(72031),_=e(38475),m=e(74293),u=e(36696),O=e(94799),D=e(86316),B=e(5587),A=e(40011),W=e(59130),n=e(5e3),L=e(74202),K=e(41989),S=e(69808),j=e(52789),F=e(62017),w=e(7981),$=e(67216),V=e(68e3),N=e(84983),G=e(33098),X=e(21171),z=e(27924),H=e(86956);function b(f,T){if(1&f&&(n.\u0275\u0275element(0,"ds-comcol-page-logo",18),n.\u0275\u0275pipe(1,"async")),2&f){const E=n.\u0275\u0275nextContext(4);let R;n.\u0275\u0275property("logo",null==(R=n.\u0275\u0275pipeBind1(1,2,E.logoRD$))?null:R.payload)("alternateText","Collection Logo")}}function Z(f,T){if(1&f&&(n.\u0275\u0275element(0,"ds-dso-page-edit-button",19),n.\u0275\u0275pipe(1,"async")),2&f){const E=n.\u0275\u0275nextContext().ngIf,R=n.\u0275\u0275nextContext(3);n.\u0275\u0275property("pageRoute",n.\u0275\u0275pipeBind1(1,3,R.collectionPageRoute$))("dso",E)("tooltipMsg","collection.page.edit")}}function J(f,T){if(1&f&&(n.\u0275\u0275elementStart(0,"div",22)(1,"h3",23),n.\u0275\u0275text(2),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275element(4,"ds-viewable-collection",24),n.\u0275\u0275elementEnd()),2&f){const E=n.\u0275\u0275nextContext().ngVar,R=n.\u0275\u0275nextContext(4);n.\u0275\u0275property("@fadeIn",void 0),n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(3,6,"collection.page.browse.recent.head")),n.\u0275\u0275advance(2),n.\u0275\u0275property("config",R.paginationConfig)("sortConfig",R.sortConfig)("objects",E)("hideGear",!0)}}function Y(f,T){1&f&&(n.\u0275\u0275element(0,"ds-error",25),n.\u0275\u0275pipe(1,"translate")),2&f&&n.\u0275\u0275propertyInterpolate("message",n.\u0275\u0275pipeBind1(1,1,"error.recent-submissions"))}function Q(f,T){1&f&&(n.\u0275\u0275element(0,"ds-loading",25),n.\u0275\u0275pipe(1,"translate")),2&f&&n.\u0275\u0275propertyInterpolate("message",n.\u0275\u0275pipeBind1(1,1,"loading.recent-submissions"))}function k(f,T){1&f&&(n.\u0275\u0275elementStart(0,"div",26),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementEnd()),2&f&&(n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(2,1,"collection.page.browse.recent.empty")," "))}function q(f,T){if(1&f&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,J,5,8,"div",20),n.\u0275\u0275template(2,Y,2,3,"ds-error",4),n.\u0275\u0275template(3,Q,2,3,"ds-loading",4),n.\u0275\u0275template(4,k,3,3,"div",21),n.\u0275\u0275elementContainerEnd()),2&f){const E=T.ngVar;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==E?null:E.hasSucceeded),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==E?null:E.hasFailed),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!E||E.isLoading),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!(null!=E&&E.isLoading)&&0===(null==E||null==E.payload?null:E.payload.page.length))}}function ee(f,T){if(1&f&&(n.\u0275\u0275elementStart(0,"footer",27),n.\u0275\u0275element(1,"ds-comcol-page-content",10),n.\u0275\u0275elementEnd()),2&f){const E=n.\u0275\u0275nextContext().ngIf;n.\u0275\u0275advance(1),n.\u0275\u0275property("content",E.copyrightText)("hasInnerHtml",!0)}}function te(f,T){if(1&f&&(n.\u0275\u0275elementStart(0,"div"),n.\u0275\u0275element(1,"ds-view-tracker",5),n.\u0275\u0275elementStart(2,"div",6)(3,"header",7),n.\u0275\u0275element(4,"ds-comcol-page-header",8),n.\u0275\u0275template(5,b,2,4,"ds-comcol-page-logo",9),n.\u0275\u0275element(6,"ds-comcol-page-content",10)(7,"ds-comcol-page-content",11),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(8,"div",12),n.\u0275\u0275template(9,Z,2,5,"ds-dso-page-edit-button",13),n.\u0275\u0275pipe(10,"async"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275elementStart(11,"section",14),n.\u0275\u0275element(12,"ds-themed-comcol-page-browse-by",15),n.\u0275\u0275template(13,q,5,4,"ng-container",16),n.\u0275\u0275pipe(14,"async"),n.\u0275\u0275elementEnd(),n.\u0275\u0275template(15,ee,2,2,"footer",17),n.\u0275\u0275elementEnd()),2&f){const E=T.ngIf,R=n.\u0275\u0275nextContext(3);n.\u0275\u0275advance(1),n.\u0275\u0275property("object",E),n.\u0275\u0275advance(3),n.\u0275\u0275property("name",E.name),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",R.logoRD$),n.\u0275\u0275advance(1),n.\u0275\u0275property("content",E.introductoryText)("hasInnerHtml",!0),n.\u0275\u0275advance(1),n.\u0275\u0275property("content",E.sidebarText)("hasInnerHtml",!0)("title","collection.page.news"),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",n.\u0275\u0275pipeBind1(10,13,R.isCollectionAdmin$)),n.\u0275\u0275advance(3),n.\u0275\u0275property("id",E.id)("contentType",E.type),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngVar",n.\u0275\u0275pipeBind1(14,15,R.itemRD$)),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",E.copyrightText)}}function ne(f,T){if(1&f&&(n.\u0275\u0275elementStart(0,"div"),n.\u0275\u0275template(1,te,16,17,"div",3),n.\u0275\u0275elementEnd()),2&f){const E=n.\u0275\u0275nextContext().ngVar;n.\u0275\u0275property("@fadeInOut",void 0),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==E?null:E.payload)}}function oe(f,T){1&f&&(n.\u0275\u0275element(0,"ds-error",25),n.\u0275\u0275pipe(1,"translate")),2&f&&n.\u0275\u0275propertyInterpolate("message",n.\u0275\u0275pipeBind1(1,1,"error.collection"))}function ie(f,T){1&f&&(n.\u0275\u0275element(0,"ds-loading",25),n.\u0275\u0275pipe(1,"translate")),2&f&&n.\u0275\u0275propertyInterpolate("message",n.\u0275\u0275pipeBind1(1,1,"loading.collection"))}function re(f,T){if(1&f&&(n.\u0275\u0275elementStart(0,"div",2),n.\u0275\u0275template(1,ne,2,2,"div",3),n.\u0275\u0275template(2,oe,2,3,"ds-error",4),n.\u0275\u0275template(3,ie,2,3,"ds-loading",4),n.\u0275\u0275elementEnd()),2&f){const E=T.ngVar;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==E?null:E.hasSucceeded),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==E?null:E.hasFailed),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",null==E?null:E.isLoading)}}let ae=(()=>{class f{constructor(E,R,y,U,x,se,_e){this.collectionDataService=E,this.searchService=R,this.route=y,this.router=U,this.authService=x,this.paginationService=se,this.authorizationDataService=_e,this.paginationConfig=new m.r,this.paginationConfig.id="cp",this.paginationConfig.pageSize=5,this.paginationConfig.currentPage=1,this.sortConfig=new h.o("dc.date.accessioned",h.S.DESC)}ngOnInit(){this.collectionRD$=this.route.data.pipe((0,l.U)(y=>y.dso),(0,W.Gh)(this.router,this.authService),(0,o.q)(1)),this.logoRD$=this.collectionRD$.pipe((0,l.U)(y=>y.payload),(0,a.h)(y=>(0,_.Uh)(y)),(0,t.z)(y=>y.logo)),this.isCollectionAdmin$=this.authorizationDataService.isAuthorized(B.i.IsCollectionAdmin),this.paginationChanges$=new r.X({paginationConfig:this.paginationConfig,sortConfig:this.sortConfig});const E=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),R=this.paginationService.getCurrentSort(this.paginationConfig.id,this.sortConfig);this.itemRD$=(0,c.a)([E,R]).pipe((0,g.w)(([y,U])=>this.collectionRD$.pipe((0,d.xw)(),(0,l.U)(x=>x.payload.id),(0,g.w)(x=>this.searchService.search(new p.t({scope:x,pagination:y,sort:U,dsoTypes:[C.h.ITEM]})).pipe((0,d.Ie)())),(0,i.O)(void 0)))),this.collectionPageRoute$=this.collectionRD$.pipe((0,d.mc)(),(0,l.U)(y=>(0,A.MI)(y.id)))}isNotEmpty(E){return(0,_.UE)(E)}ngOnDestroy(){this.paginationService.clearPagination(this.paginationConfig.id)}}return f.\u0275fac=function(E){return new(E||f)(n.\u0275\u0275directiveInject(P.W),n.\u0275\u0275directiveInject(I.o),n.\u0275\u0275directiveInject(L.gz),n.\u0275\u0275directiveInject(L.F0),n.\u0275\u0275directiveInject(u.e8),n.\u0275\u0275directiveInject(O.N),n.\u0275\u0275directiveInject(D._))},f.\u0275cmp=n.\u0275\u0275defineComponent({type:f,selectors:[["ds-collection-page"]],decls:3,vars:3,consts:[[1,"container"],["class","collection-page",4,"ngVar"],[1,"collection-page"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"object"],[1,"d-flex","flex-row","border-bottom","mb-4","pb-4"],[1,"comcol-header","mr-auto"],[3,"name"],[3,"logo","alternateText",4,"ngIf"],[3,"content","hasInnerHtml"],[3,"content","hasInnerHtml","title"],[1,"pl-2","space-children-mr"],[3,"pageRoute","dso","tooltipMsg",4,"ngIf"],[1,"comcol-page-browse-section"],[3,"id","contentType"],[4,"ngVar"],["class","border-top my-5 pt-4",4,"ngIf"],[3,"logo","alternateText"],[3,"pageRoute","dso","tooltipMsg"],["class","mt-4",4,"ngIf"],["class","alert alert-info w-100","role","alert",4,"ngIf"],[1,"mt-4"],[1,"sr-only"],[3,"config","sortConfig","objects","hideGear"],[3,"message"],["role","alert",1,"alert","alert-info","w-100"],[1,"border-top","my-5","pt-4"]],template:function(E,R){1&E&&(n.\u0275\u0275elementStart(0,"div",0),n.\u0275\u0275template(1,re,4,3,"div",1),n.\u0275\u0275pipe(2,"async"),n.\u0275\u0275elementEnd()),2&E&&(n.\u0275\u0275advance(1),n.\u0275\u0275property("ngVar",n.\u0275\u0275pipeBind1(2,1,R.collectionRD$)))},directives:[K.g,S.O5,j.f,F.U,w.e,$.v,V._,N.g,G.c,X.q,z.N],pipes:[S.Ov,H.X$],styles:[""],data:{animation:[s.Ji,s.Ic]},changeDetection:0}),f})()},40025:(M,v,e)=>{e.d(v,{C:()=>g,l:()=>i});var r=e(31054),c=e(18838),l=e(46283),o=e(32527),a=e(5e3),t=e(65620);const g=[(0,c.l)("parentCommunity",{},(0,c.l)("parentCommunity")),(0,c.l)("logo")];let i=(()=>{class p{constructor(h,P){this.collectionService=h,this.store=P}resolve(h,P){const C=this.collectionService.findById(h.params.id,!0,!1,...g).pipe((0,l.hC)());return C.subscribe(d=>{this.store.dispatch(new o.K(P.url,d.payload))}),C}}return p.\u0275fac=function(h){return new(h||p)(a.\u0275\u0275inject(r.W),a.\u0275\u0275inject(t.yh))},p.\u0275prov=a.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac}),p})()},80692:(M,v,e)=>{e.d(v,{x:()=>g,h:()=>i});var r=e(30858),c=e(18838),l=e(46283),o=e(32527),a=e(5e3),t=e(65620);const g=[(0,c.l)("logo"),(0,c.l)("subcommunities"),(0,c.l)("collections"),(0,c.l)("parentCommunity")];let i=(()=>{class p{constructor(h,P){this.communityService=h,this.store=P}resolve(h,P){const C=this.communityService.findById(h.params.id,!0,!1,...g).pipe((0,l.hC)());return C.subscribe(d=>{this.store.dispatch(new o.K(P.url,d.payload))}),C}}return p.\u0275fac=function(h){return new(h||p)(a.\u0275\u0275inject(r.w),a.\u0275\u0275inject(t.yh))},p.\u0275prov=a.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac}),p})()},21390:(M,v,e)=>{e.d(v,{o:()=>r});var r=(()=>{return(c=r||(r={})).Known="KNOWN",c.Unknown="UNKNOWN",c.Supported="SUPPORTED",r;var c})()},1493:(M,v,e)=>{e.d(v,{m:()=>g});var r=e(18838),c=e(63900),l=e(15811),o=e(46283),a=e(5e3),t=e(65620);let g=(()=>{class i{constructor(I,h){this.dataService=I,this.store=h}resolve(I,h){return this.dataService.findById(I.params.id,!0,!1,(0,r.l)("item")).pipe((0,o.hC)(),(0,c.w)(C=>C.payload.item),(0,o.hC)())}}return i.\u0275fac=function(I){return new(I||i)(a.\u0275\u0275inject(l.D),a.\u0275\u0275inject(t.yh))},i.\u0275prov=a.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac}),i})()},81241:(M,v,e)=>{e.r(v),e.d(v,{ForgotEmailComponent:()=>l});var r=e(5e3),c=e(59755);let l=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=r.\u0275\u0275defineComponent({type:o,selectors:[["ds-forgot-email"]],decls:1,vars:1,consts:[[3,"MESSAGE_PREFIX"]],template:function(t,g){1&t&&r.\u0275\u0275element(0,"ds-register-email-form",0),2&t&&r.\u0275\u0275property("MESSAGE_PREFIX","forgot-email.form")},directives:[c.Z],styles:[""]}),o})()},80490:(M,v,e)=>{e.r(v),e.d(v,{ForgotPasswordFormComponent:()=>C});var r=e(20789),c=e(55489),l=e(54004),o=e(87063),a=e(46283),t=e(5e3),g=e(86956),i=e(65620),p=e(74202),I=e(69808),h=e(82928);function P(d,s){if(1&d){const _=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",1)(1,"h3",2),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",3)(5,"div",4),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",5)(9,"div",6)(10,"div",7)(11,"label",8),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(14,"span",9),t.\u0275\u0275text(15),t.\u0275\u0275pipe(16,"async"),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(17,"div",3)(18,"div",4),t.\u0275\u0275text(19),t.\u0275\u0275pipe(20,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(21,"div",5)(22,"ds-profile-page-security-form",10),t.\u0275\u0275listener("isInvalid",function(u){return t.\u0275\u0275restoreView(_),t.\u0275\u0275nextContext().setInValid(u)})("passwordValue",function(u){return t.\u0275\u0275restoreView(_),t.\u0275\u0275nextContext().setPasswordValue(u)}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(23,"div",6)(24,"div",7)(25,"button",11),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(_),t.\u0275\u0275nextContext().submit()}),t.\u0275\u0275text(26),t.\u0275\u0275pipe(27,"translate"),t.\u0275\u0275elementEnd()()()()}if(2&d){const _=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,9,"forgot-password.form.head")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,11,"forgot-password.form.identification.header")),t.\u0275\u0275advance(6),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(13,13,"forgot-password.form.identification.email")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(16,15,_.registration$).email),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(20,17,"forgot-password.form.card.security")),t.\u0275\u0275advance(3),t.\u0275\u0275property("passwordCanBeEmpty",!1)("FORM_PREFIX","forgot-password.form."),t.\u0275\u0275advance(3),t.\u0275\u0275property("disabled",_.isInValid),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(27,19,"forgot-password.form.submit"))}}let C=(()=>{class d{constructor(_,m,u,O,D,B){this.ePersonDataService=_,this.translateService=m,this.notificationsService=u,this.store=O,this.router=D,this.route=B,this.isInValid=!0,this.NOTIFICATIONS_PREFIX="forgot-password.form.notification"}ngOnInit(){this.registration$=this.route.data.pipe((0,l.U)(_=>_.registration),(0,a.Gp)()),this.registration$.subscribe(_=>{this.email=_.email,this.token=_.token,this.user=_.user})}setInValid(_){this.isInValid=_}setPasswordValue(_){this.password=_}submit(){this.isInValid||this.ePersonDataService.patchPasswordWithToken(this.user,this.token,this.password).pipe((0,a.hC)()).subscribe(_=>{_.hasSucceeded?(this.notificationsService.success(this.translateService.instant(this.NOTIFICATIONS_PREFIX+".success.title"),this.translateService.instant(this.NOTIFICATIONS_PREFIX+".success.content")),this.store.dispatch(new o.zn(this.email,this.password)),this.router.navigate(["/home"])):this.notificationsService.error(this.translateService.instant(this.NOTIFICATIONS_PREFIX+".error.title"),_.errorMessage)})}}return d.\u0275fac=function(_){return new(_||d)(t.\u0275\u0275directiveInject(r.k),t.\u0275\u0275directiveInject(g.sK),t.\u0275\u0275directiveInject(c.T),t.\u0275\u0275directiveInject(i.yh),t.\u0275\u0275directiveInject(p.F0),t.\u0275\u0275directiveInject(p.gz))},d.\u0275cmp=t.\u0275\u0275defineComponent({type:d,selectors:[["ds-forgot-password-form"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"mb-4"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-12"],["for","email",1,"font-weight-bold"],["id","email"],[3,"passwordCanBeEmpty","FORM_PREFIX","isInvalid","passwordValue"],[1,"btn","btn-default","btn-primary",3,"disabled","click"]],template:function(_,m){1&_&&(t.\u0275\u0275template(0,P,28,21,"div",0),t.\u0275\u0275pipe(1,"async")),2&_&&t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(1,1,m.registration$))},directives:[I.O5,h.V],pipes:[I.Ov,g.X$],styles:[""]}),d})()},71711:(M,v,e)=>{e.r(v),e.d(v,{LoginPageComponent:()=>C});var r=e(39841),c=e(39300),l=e(95698),o=e(87063),a=e(38475),t=e(46690),g=e(84705),i=e(5e3),p=e(74202),I=e(65620),h=e(47003),P=e(86956);let C=(()=>{class d{constructor(_,m){this.route=_,this.store=m}ngOnInit(){const _=this.route.queryParams,m=this.store.select(g.$8);this.sub=(0,r.a)(_,m).pipe((0,c.h)(([u,O])=>(0,a.UE)(u.token)||(0,a.UE)(u.expired)),(0,l.q)(1)).subscribe(([u,O])=>{const D=u.token;let B;O?(0,a.UE)(D)&&(B=new t.Y(D),this.store.dispatch(new o.$L(B))):(0,a.UE)(D)?(B=new t.Y(D),this.store.dispatch(new o.LF(B))):(0,a.UE)(u.expired)&&this.store.dispatch(new o.vT("auth.messages.expired"))})}ngOnDestroy(){(0,a.Uh)(this.sub)&&this.sub.unsubscribe(),this.store.dispatch(new o.wO)}}return d.\u0275fac=function(_){return new(_||d)(i.\u0275\u0275directiveInject(p.gz),i.\u0275\u0275directiveInject(I.yh))},d.\u0275cmp=i.\u0275\u0275defineComponent({type:d,selectors:[["ds-login-page"]],decls:9,vars:7,consts:[[1,"container","w-100","h-100"],[1,"text-center","mt-5","row","justify-content-center"],["src","assets/images/dspace-logo.png",1,"mb-4","login-logo",3,"alt"],[1,"h3","mb-0","font-weight-normal"],[3,"isStandalonePage"]],template:function(_,m){1&_&&(i.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div"),i.\u0275\u0275element(3,"img",2),i.\u0275\u0275pipe(4,"translate"),i.\u0275\u0275elementStart(5,"h1",3),i.\u0275\u0275text(6),i.\u0275\u0275pipe(7,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(8,"ds-log-in",4),i.\u0275\u0275elementEnd()()()),2&_&&(i.\u0275\u0275advance(3),i.\u0275\u0275propertyInterpolate("alt",i.\u0275\u0275pipeBind1(4,3,"repository.image.logo")),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(7,5,"login.form.header")),i.\u0275\u0275advance(2),i.\u0275\u0275property("isStandalonePage",!0))},directives:[h.D],pipes:[P.X$],styles:[".login-logo[_ngcontent-%COMP%]{height:var(--ds-login-logo-height);width:var(--ds-login-logo-width)}"]}),d})()},245:(M,v,e)=>{e.r(v),e.d(v,{LogoutPageComponent:()=>o});var r=e(5e3),c=e(58914),l=e(86956);let o=(()=>{class a{}return a.\u0275fac=function(g){return new(g||a)},a.\u0275cmp=r.\u0275\u0275defineComponent({type:a,selectors:[["ds-logout-page"]],decls:8,vars:3,consts:[[1,"container","w-100","h-100"],[1,"text-center","mt-5","row","justify-content-md-center"],[1,"mx-auto"],["src","assets/images/dspace-logo.png",1,"mb-4","login-logo"],[1,"h3","mb-0","font-weight-normal"]],template:function(g,i){1&g&&(r.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),r.\u0275\u0275element(3,"img",3),r.\u0275\u0275elementStart(4,"h1",4),r.\u0275\u0275text(5),r.\u0275\u0275pipe(6,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(7,"ds-log-out"),r.\u0275\u0275elementEnd()()()),2&g&&(r.\u0275\u0275advance(5),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(6,1,"logout.form.header")))},directives:[c.P],pipes:[l.X$],styles:[".login-logo[_ngcontent-%COMP%]{height:var(--ds-login-logo-height);width:var(--ds-login-logo-width)}"]}),a})()},16926:(M,v,e)=>{e.r(v),e.d(v,{ObjectNotFoundComponent:()=>o});var r=e(5e3),c=e(74202),l=e(86956);let o=(()=>{class a{constructor(g){this.route=g,g.params.subscribe(i=>{this.idType=i.idType,this.id=i.id})}ngOnInit(){this.missingItem=this.idType.startsWith("handle")||this.idType.startsWith("uuid")?this.idType+": "+this.id:"handle: "+this.idType+"/"+this.id}}return a.\u0275fac=function(g){return new(g||a)(r.\u0275\u0275directiveInject(c.gz))},a.\u0275cmp=r.\u0275\u0275defineComponent({type:a,selectors:[["ds-objnotfound"]],decls:13,vars:7,consts:[[1,"object-not-found","container"],[1,"text-center"],["routerLink","/home",1,"btn","btn-primary"]],template:function(g,i){1&g&&(r.\u0275\u0275elementStart(0,"div",0)(1,"h1"),r.\u0275\u0275text(2),r.\u0275\u0275pipe(3,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"h2")(5,"small")(6,"em"),r.\u0275\u0275text(7),r.\u0275\u0275elementEnd()()(),r.\u0275\u0275element(8,"br"),r.\u0275\u0275elementStart(9,"p",1)(10,"a",2),r.\u0275\u0275text(11),r.\u0275\u0275pipe(12,"translate"),r.\u0275\u0275elementEnd()()()),2&g&&(r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(3,3,"error.identifier")),r.\u0275\u0275advance(5),r.\u0275\u0275textInterpolate(i.missingItem),r.\u0275\u0275advance(4),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(12,5,"404.link.home-page")))},directives:[c.yS],pipes:[l.X$],styles:[""]}),a})()},90918:(M,v,e)=>{e.d(v,{N:()=>r});var r=(()=>{return(c=r||(r={}))[c.SCHEDULED=0]="SCHEDULED",c[c.RUNNING=1]="RUNNING",c[c.COMPLETED=2]="COMPLETED",c[c.FAILED=3]="FAILED",r;var c})()},59755:(M,v,e)=>{e.d(v,{Z:()=>h});var r=e(59038),c=e(55489),l=e(93075),o=e(5e3),a=e(86956),t=e(74202),g=e(69808);function i(P,C){if(1&P&&(o.\u0275\u0275elementStart(0,"span"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()),2&P){const d=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(2,1,d.MESSAGE_PREFIX+".email.error.required")," ")}}function p(P,C){if(1&P&&(o.\u0275\u0275elementStart(0,"span"),o.\u0275\u0275text(1),o.\u0275\u0275pipe(2,"translate"),o.\u0275\u0275elementEnd()),2&P){const d=o.\u0275\u0275nextContext(2);o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(2,1,d.MESSAGE_PREFIX+".email.error.pattern")," ")}}function I(P,C){if(1&P&&(o.\u0275\u0275elementStart(0,"div",9),o.\u0275\u0275template(1,i,3,3,"span",10),o.\u0275\u0275template(2,p,3,3,"span",10),o.\u0275\u0275elementEnd()),2&P){const d=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",d.email.errors&&d.email.errors.required),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",d.email.errors&&d.email.errors.pattern)}}let h=(()=>{class P{constructor(d,s,_,m,u){this.epersonRegistrationService=d,this.notificationService=s,this.translateService=_,this.router=m,this.formBuilder=u}ngOnInit(){this.form=this.formBuilder.group({email:new l.NI("",{validators:[l.kI.required,l.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$")]})})}register(){this.form.invalid||this.epersonRegistrationService.registerEmail(this.email.value).subscribe(d=>{d.hasSucceeded?(this.notificationService.success(this.translateService.get(`${this.MESSAGE_PREFIX}.success.head`),this.translateService.get(`${this.MESSAGE_PREFIX}.success.content`,{email:this.email.value})),this.router.navigate(["/home"])):this.notificationService.error(this.translateService.get(`${this.MESSAGE_PREFIX}.error.head`),this.translateService.get(`${this.MESSAGE_PREFIX}.error.content`,{email:this.email.value}))})}get email(){return this.form.get("email")}}return P.\u0275fac=function(d){return new(d||P)(o.\u0275\u0275directiveInject(r.m),o.\u0275\u0275directiveInject(c.T),o.\u0275\u0275directiveInject(a.sK),o.\u0275\u0275directiveInject(t.F0),o.\u0275\u0275directiveInject(l.qu))},P.\u0275cmp=o.\u0275\u0275defineComponent({type:P,selectors:[["ds-register-email-form"]],inputs:{MESSAGE_PREFIX:"MESSAGE_PREFIX"},decls:22,vars:21,consts:[[1,"container"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"row"],[1,"col-12"],["for","email",1,"font-weight-bold"],["type","text","id","email","formControlName","email",3,"className"],["class","invalid-feedback show-feedback",4,"ngIf"],[1,"btn","btn-primary",3,"disabled","click"],[1,"invalid-feedback","show-feedback"],[4,"ngIf"]],template:function(d,s){1&d&&(o.\u0275\u0275elementStart(0,"div",0)(1,"h2"),o.\u0275\u0275text(2),o.\u0275\u0275pipe(3,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"p"),o.\u0275\u0275text(5),o.\u0275\u0275pipe(6,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(7,"form",1),o.\u0275\u0275listener("ngSubmit",function(){return s.register()}),o.\u0275\u0275elementStart(8,"div",2)(9,"div",3)(10,"div",4)(11,"label",5),o.\u0275\u0275text(12),o.\u0275\u0275pipe(13,"translate"),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(14,"input",6),o.\u0275\u0275template(15,I,3,2,"div",7),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(16,"div",4),o.\u0275\u0275text(17),o.\u0275\u0275pipe(18,"translate"),o.\u0275\u0275elementEnd()()()(),o.\u0275\u0275elementStart(19,"button",8),o.\u0275\u0275listener("click",function(){return s.register()}),o.\u0275\u0275text(20),o.\u0275\u0275pipe(21,"translate"),o.\u0275\u0275elementEnd()()),2&d&&(o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(3,11,s.MESSAGE_PREFIX+".header")),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(6,13,s.MESSAGE_PREFIX+".info")),o.\u0275\u0275advance(2),o.\u0275\u0275classMap("ng-invalid"),o.\u0275\u0275property("formGroup",s.form),o.\u0275\u0275advance(5),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(13,15,s.MESSAGE_PREFIX+".email")),o.\u0275\u0275advance(2),o.\u0275\u0275property("className",s.email.invalid&&(s.email.dirty||s.email.touched)?"form-control is-invalid":"form-control"),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",s.email.invalid&&(s.email.dirty||s.email.touched)),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",o.\u0275\u0275pipeBind1(18,17,s.MESSAGE_PREFIX+".email.hint")," "),o.\u0275\u0275advance(2),o.\u0275\u0275property("disabled",s.form.invalid),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind1(21,19,s.MESSAGE_PREFIX+".submit")))},directives:[l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,g.O5],pipes:[a.X$],encapsulation:2}),P})()},87474:(M,v,e)=>{e.d(v,{E:()=>o});var r=e(69808),c=e(42501),l=e(5e3);let o=(()=>{class a{}return a.\u0275fac=function(g){return new(g||a)},a.\u0275mod=l.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=l.\u0275\u0275defineInjector({providers:[],imports:[[r.ez,c.m]]}),a})()},13740:(M,v,e)=>{e.d(v,{E:()=>i});var r=e(59038),c=e(36696),l=e(54004),o=e(46283),a=e(59130),t=e(5e3),g=e(74202);let i=(()=>{class p{constructor(h,P,C){this.epersonRegistrationService=h,this.router=P,this.authService=C}canActivate(h,P){return this.epersonRegistrationService.searchByToken(h.params.token).pipe((0,o.hC)(),(0,a.Gh)(this.router,this.authService),(0,l.U)(d=>(h.data=Object.assign(Object.assign({},h.data),{registration:d}),d.hasSucceeded)))}}return p.\u0275fac=function(h){return new(h||p)(t.\u0275\u0275inject(r.m),t.\u0275\u0275inject(g.F0),t.\u0275\u0275inject(c.e8))},p.\u0275prov=t.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},91657:(M,v,e)=>{e.d(v,{s:()=>a});var r=e(70655),c=e(29305),l=e(39027),o=e(80758);let a=class extends l.l{};a=(0,r.gn)([(0,o.D)(c.p)],a)},12177:(M,v,e)=>{e.d(v,{V:()=>P});var r=e(54004),c=e(63900),l=e(95698),o=e(8997),a=e(9168),t=e(55489),g=e(46283),i=e(38475),p=e(5e3),I=e(74202),h=e(86956);let P=(()=>{class C{constructor(s,_,m,u,O,D){this.route=s,this.workflowItemService=_,this.router=m,this.routeService=u,this.notificationsService=O,this.translationService=D}ngOnInit(){this.type=this.getType(),this.wfi$=this.route.data.pipe((0,r.U)(s=>s.wfi),(0,g.xe)()),this.item$=this.wfi$.pipe((0,c.w)(s=>s.item.pipe((0,g.g1)(),(0,g.xe)())))}performAction(){this.wfi$.pipe((0,l.q)(1),(0,c.w)(s=>this.sendRequest(s.id))).subscribe(s=>{if(s){const _=this.translationService.get("workflow-item."+this.type+".notification.success.title"),m=this.translationService.get("workflow-item."+this.type+".notification.success.content");this.notificationsService.success(_,m)}else{const _=this.translationService.get("workflow-item."+this.type+".notification.error.title"),m=this.translationService.get("workflow-item."+this.type+".notification.error.content");this.notificationsService.error(_,m)}this.previousPage()})}previousPage(){this.routeService.getPreviousUrl().pipe((0,l.q)(1)).subscribe(s=>{(0,i.xb)(s)&&(s="/mydspace"),this.router.navigateByUrl(s)})}}return C.\u0275fac=function(s){return new(s||C)(p.\u0275\u0275directiveInject(I.gz),p.\u0275\u0275directiveInject(o.K),p.\u0275\u0275directiveInject(I.F0),p.\u0275\u0275directiveInject(a.MZ),p.\u0275\u0275directiveInject(t.T),p.\u0275\u0275directiveInject(h.sK))},C.\u0275cmp=p.\u0275\u0275defineComponent({type:C,selectors:[["ds-workflowitem-action-page"]],decls:0,vars:0,template:function(s,_){},encapsulation:2}),C})()},20004:(M,v,e)=>{e.r(v),e.d(v,{WorkflowItemDeleteComponent:()=>_});var r=e(12177),c=e(8997),l=e(9168),o=e(55489),a=e(64025),t=e(54004),g=e(46283),i=e(5e3),p=e(74202),I=e(86956),h=e(41989),P=e(69808),C=e(42388);function d(m,u){if(1&m&&i.\u0275\u0275element(0,"ds-modify-item-overview",5),2&m){const O=i.\u0275\u0275nextContext().ngVar;i.\u0275\u0275property("item",O)}}function s(m,u){if(1&m){const O=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",1)(1,"h2"),i.\u0275\u0275text(2),i.\u0275\u0275pipe(3,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(4,d,1,1,"ds-modify-item-overview",2),i.\u0275\u0275elementStart(5,"button",3),i.\u0275\u0275listener("click",function(){return i.\u0275\u0275restoreView(O),i.\u0275\u0275nextContext().previousPage()}),i.\u0275\u0275text(6),i.\u0275\u0275pipe(7,"translate"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementStart(8,"button",4),i.\u0275\u0275listener("click",function(){return i.\u0275\u0275restoreView(O),i.\u0275\u0275nextContext().performAction()}),i.\u0275\u0275text(9),i.\u0275\u0275pipe(10,"translate"),i.\u0275\u0275elementEnd()()}if(2&m){const O=u.ngVar,D=i.\u0275\u0275nextContext();i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(3,4,"workflow-item."+D.type+".header")),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",O),i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(7,6,"workflow-item."+D.type+".button.cancel")),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(i.\u0275\u0275pipeBind1(10,8,"workflow-item."+D.type+".button.confirm"))}}let _=(()=>{class m extends r.V{constructor(O,D,B,A,W,n,L){super(O,D,B,A,W,n),this.route=O,this.workflowItemService=D,this.router=B,this.routeService=A,this.notificationsService=W,this.translationService=n,this.requestService=L}getType(){return"delete"}sendRequest(O){return this.requestService.removeByHrefSubstring("/discover"),this.workflowItemService.delete(O).pipe((0,g.hC)(),(0,t.U)(D=>D.hasSucceeded))}}return m.\u0275fac=function(O){return new(O||m)(i.\u0275\u0275directiveInject(p.gz),i.\u0275\u0275directiveInject(c.K),i.\u0275\u0275directiveInject(p.F0),i.\u0275\u0275directiveInject(l.MZ),i.\u0275\u0275directiveInject(o.T),i.\u0275\u0275directiveInject(I.sK),i.\u0275\u0275directiveInject(a.s))},m.\u0275cmp=i.\u0275\u0275defineComponent({type:m,selectors:[["ds-workflow-item-delete"]],features:[i.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[3,"item",4,"ngIf"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-danger",3,"click"],[3,"item"]],template:function(O,D){1&O&&(i.\u0275\u0275template(0,s,11,10,"div",0),i.\u0275\u0275pipe(1,"async")),2&O&&i.\u0275\u0275property("ngVar",i.\u0275\u0275pipeBind1(1,1,D.item$))},directives:[h.g,P.O5,C.E],pipes:[P.Ov,I.X$],encapsulation:2}),m})()},83590:(M,v,e)=>{e.r(v),e.d(v,{WorkflowItemSendBackComponent:()=>d});var r=e(12177),c=e(8997),l=e(9168),o=e(55489),a=e(64025),t=e(5e3),g=e(74202),i=e(86956),p=e(41989),I=e(69808),h=e(42388);function P(s,_){if(1&s&&t.\u0275\u0275element(0,"ds-modify-item-overview",5),2&s){const m=t.\u0275\u0275nextContext().ngVar;t.\u0275\u0275property("item",m)}}function C(s,_){if(1&s){const m=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",1)(1,"h2"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,P,1,1,"ds-modify-item-overview",2),t.\u0275\u0275elementStart(5,"button",3),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(m),t.\u0275\u0275nextContext().previousPage()}),t.\u0275\u0275text(6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"button",4),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(m),t.\u0275\u0275nextContext().performAction()}),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementEnd()()}if(2&s){const m=_.ngVar,u=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,4,"workflow-item."+u.type+".header")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",m),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(7,6,"workflow-item."+u.type+".button.cancel")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(10,8,"workflow-item."+u.type+".button.confirm"))}}let d=(()=>{class s extends r.V{constructor(m,u,O,D,B,A,W){super(m,u,O,D,B,A),this.route=m,this.workflowItemService=u,this.router=O,this.routeService=D,this.notificationsService=B,this.translationService=A,this.requestService=W}getType(){return"send-back"}sendRequest(m){return this.requestService.removeByHrefSubstring("/discover"),this.workflowItemService.sendBack(m)}}return s.\u0275fac=function(m){return new(m||s)(t.\u0275\u0275directiveInject(g.gz),t.\u0275\u0275directiveInject(c.K),t.\u0275\u0275directiveInject(g.F0),t.\u0275\u0275directiveInject(l.MZ),t.\u0275\u0275directiveInject(o.T),t.\u0275\u0275directiveInject(i.sK),t.\u0275\u0275directiveInject(a.s))},s.\u0275cmp=t.\u0275\u0275defineComponent({type:s,selectors:[["ds-workflow-item-send-back"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],[3,"item",4,"ngIf"],[1,"btn","btn-default",3,"click"],[1,"btn","btn-danger",3,"click"],[3,"item"]],template:function(m,u){1&m&&(t.\u0275\u0275template(0,C,11,10,"div",0),t.\u0275\u0275pipe(1,"async")),2&m&&t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(1,1,u.item$))},directives:[p.g,I.O5,h.E],pipes:[I.Ov,i.X$],encapsulation:2}),s})()}}]);