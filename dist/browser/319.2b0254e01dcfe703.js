(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[319],{59038:(y,h,e)=>{"use strict";e.d(h,{m:()=>l});var g=e(64025),i=e(3592),v=e(71776),o=e(39300),c=e(54004),d=e(40367),E=e(38475),P=e(2779),C=e(46283),a=e(33890),f=e(5e3);let m=(()=>{class s{parse(t,r){const n=r.payload,u=Object.assign(new P.Y,n);return new a.tp(r.statusCode,void 0,u)}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275prov=f.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var p=e(96530);let l=(()=>{class s{constructor(t,r,n){this.requestService=t,this.rdbService=r,this.halService=n,this.linkPath="registrations",this.searchByTokenPath="/search/findByToken?token="}getRegistrationEndpoint(){return this.halService.getEndpoint(this.linkPath)}getTokenSearchEndpoint(t){return this.halService.getEndpoint(this.linkPath).pipe((0,o.h)(r=>(0,E.UE)(r)),(0,c.U)(r=>`${r}${this.searchByTokenPath}${t}`))}registerEmail(t){const r=new P.Y;r.email=t;const n=this.requestService.generateRequestId();return this.getRegistrationEndpoint().pipe((0,d.s)(O=>(0,E.Uh)(O)),(0,c.U)(O=>{const M=new v.xo(n,O,r);this.requestService.send(M)})).subscribe(),this.rdbService.buildFromRequestUUID(n).pipe((0,C.hC)())}searchByToken(t){const r=this.requestService.generateRequestId(),n=this.getTokenSearchEndpoint(t).pipe((0,d.s)(u=>(0,E.Uh)(u)));return n.subscribe(u=>{const O=new v.Gl(r,u);Object.assign(O,{getResponseParser:()=>m}),this.requestService.send(O,!0)}),this.rdbService.buildSingle(n).pipe((0,c.U)(u=>u.hasSucceeded&&(0,E.Uh)(u.payload)?Object.assign(u,{payload:Object.assign(u.payload,{token:t})}):u))}}return s.\u0275fac=function(t){return new(t||s)(f.\u0275\u0275inject(g.s),f.\u0275\u0275inject(p.Q),f.\u0275\u0275inject(i.q))},s.\u0275prov=f.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},32527:(y,h,e)=>{"use strict";e.d(h,{K:()=>v});const i={RESOLVED:(0,e(6845).d)("dspace/resolver/RESOLVED")};class v{constructor(c,d){this.type=i.RESOLVED,this.payload={url:c,dso:d}}}},12166:(y,h,e)=>{"use strict";e.d(h,{o:()=>C});var g=e(58187),i=e(54004),v=e(38475),o=e(96140),c=e(40642),d=e(5e3),E=e(65620),P=e(74202);let C=(()=>{class a extends c.I{constructor(m,p,l){super(m,p,l),this.itemService=m,this.store=p,this.router=l}resolve(m,p){return super.resolve(m,p).pipe((0,i.U)(l=>{if(l.hasSucceeded&&(0,v.Uh)(l.payload)){const s=p.url,R=this.router.parseUrl((0,o.Tt)(l.payload)).toString();if(!s.startsWith(R)){const t=l.payload.uuid,r=s.substring(s.indexOf(t)+t.length,s.length);this.router.navigateByUrl(R+r)}}return l}))}}return a.\u0275fac=function(m){return new(m||a)(d.\u0275\u0275inject(g.S),d.\u0275\u0275inject(E.yh),d.\u0275\u0275inject(P.F0))},a.\u0275prov=d.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a})()},40642:(y,h,e)=>{"use strict";e.d(h,{H:()=>P,I:()=>C});var g=e(58187),i=e(18838),v=e(46283),o=e(32527),c=e(5e3),d=e(65620),E=e(74202);const P=[(0,i.l)("owningCollection",{},(0,i.l)("parentCommunity",{},(0,i.l)("parentCommunity"))),(0,i.l)("relationships"),(0,i.l)("version",{},(0,i.l)("versionhistory")),(0,i.l)("thumbnail")];let C=(()=>{class a{constructor(m,p,l){this.itemService=m,this.store=p,this.router=l}resolve(m,p){const l=this.itemService.findById(m.params.id,!0,!1,...P).pipe((0,v.hC)());return l.subscribe(s=>{this.store.dispatch(new o.K(p.url,s.payload))}),l}}return a.\u0275fac=function(m){return new(m||a)(c.\u0275\u0275inject(g.S),c.\u0275\u0275inject(d.yh),c.\u0275\u0275inject(E.F0))},a.\u0275prov=c.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac}),a})()},42462:(y,h,e)=>{"use strict";e.r(h),e.d(h,{RegisterPageModule:()=>R});var g=e(69808),i=e(42501),v=e(74202),o=e(5e3),c=e(59755);let d=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=o.\u0275\u0275defineComponent({type:t,selectors:[["ds-register-email"]],decls:1,vars:1,consts:[[3,"MESSAGE_PREFIX"]],template:function(n,u){1&n&&o.\u0275\u0275element(0,"ds-register-email-form",0),2&n&&o.\u0275\u0275property("MESSAGE_PREFIX","register-page.registration")},directives:[c.Z],styles:[""]}),t})();var E=e(12166),P=e(57216),C=e(79094);function a(t,r){}let f=(()=>{class t extends C.F{getComponentName(){return"CreateProfileComponent"}importThemedComponent(n){return e(98912)(`./${n}/app/register-page/create-profile/create-profile.component`)}importUnthemedComponent(){return e.e(4924).then(e.bind(e,24924))}}return t.\u0275fac=function(){let r;return function(u){return(r||(r=o.\u0275\u0275getInheritedFactory(t)))(u||t)}}(),t.\u0275cmp=o.\u0275\u0275defineComponent({type:t,selectors:[["ds-themed-create-profile"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(n,u){1&n&&o.\u0275\u0275template(0,a,0,0,"ng-template",null,0,o.\u0275\u0275templateRefExtractor)},encapsulation:2}),t})();var m=e(13740);let p=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=o.\u0275\u0275defineInjector({providers:[E.o],imports:[[v.Bz.forChild([{path:"",component:d,data:{title:"register-email.title"}},{path:":token",component:f,canActivate:[m.E,P.J]}])]]}),t})();var l=e(87474),s=e(61274);let R=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=o.\u0275\u0275defineInjector({providers:[],imports:[[g.ez,i.m,p,l.E,s.ProfilePageModule]]}),t})()},98912:(y,h,e)=>{var g={"./custom/app/register-page/create-profile/create-profile.component":[58257,4924,8257]};function i(v){if(!e.o(g,v))return Promise.resolve().then(()=>{var d=new Error("Cannot find module '"+v+"'");throw d.code="MODULE_NOT_FOUND",d});var o=g[v],c=o[0];return Promise.all(o.slice(1).map(e.e)).then(()=>e(c))}i.keys=()=>Object.keys(g),i.id=98912,y.exports=i}}]);