"use strict";(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[2093,2928],{82928:(h,c,r)=>{r.d(c,{V:()=>F});var t=r(5e3),e=r(8108),m=r(38475),u=r(20789),E=r(55489),g=r(54004),f=r(46283),s=r(86956),p=r(84561),i=r(69808),d=r(50358),l=r(93075);function v(n,_){if(1&n&&t.\u0275\u0275element(0,"ds-form",5),2&n){const o=t.\u0275\u0275nextContext();t.\u0275\u0275property("formId",o.FORM_PREFIX)("formModel",o.formModel)("formGroup",o.formGroup)("displaySubmit",!1)("displayCancel",!1)}}function I(n,_){if(1&n&&(t.\u0275\u0275elementStart(0,"div",6),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,o.FORM_PREFIX+"error.password-length"))}}function y(n,_){if(1&n&&(t.\u0275\u0275elementStart(0,"div",7),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,o.FORM_PREFIX+"error.matching-passwords"))}}function C(n,_){if(1&n&&(t.\u0275\u0275elementStart(0,"div",8),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&n){const o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,o.FORM_PREFIX+"error.empty-password"))}}let F=(()=>{class n{constructor(o,a,P,w){this.formService=o,this.translate=a,this.epersonService=P,this.notificationsService=w,this.isInvalid=new t.EventEmitter,this.passwordValue=new t.EventEmitter,this.formModel=[new e.b1u({id:"password",name:"password",inputType:"password"}),new e.b1u({id:"passwordrepeat",name:"passwordrepeat",inputType:"password"})],this.passwordCanBeEmpty=!0,this.subs=[]}ngOnInit(){this.formGroup=this.formService.createFormGroup(this.formModel,this.passwordCanBeEmpty?{validators:[this.checkPasswordsEqual,this.checkPasswordLength]}:{validators:[this.checkPasswordsEqual,this.checkPasswordLength,this.checkPasswordEmpty]}),this.updateFieldTranslations(),this.translate.onLangChange.subscribe(()=>{this.updateFieldTranslations()}),this.subs.push(this.formGroup.statusChanges.pipe((0,f.ig)(300),(0,g.U)(o=>"VALID"!==o)).subscribe(o=>this.isInvalid.emit(o))),this.subs.push(this.formGroup.valueChanges.pipe((0,f.ig)(300)).subscribe(o=>{this.passwordValue.emit(o.password)}))}updateFieldTranslations(){this.formModel.forEach(o=>{o.label=this.translate.instant(this.FORM_PREFIX+"label."+o.id)})}checkPasswordsEqual(o){return o.get("password").value===o.get("passwordrepeat").value?null:{notSame:!0}}checkPasswordLength(o){const a=o.get("password").value;return(0,m.xb)(a)||a.length>=6?null:{notLongEnough:!0}}checkPasswordEmpty(o){const a=o.get("password").value;return(0,m.xb)(a)?{emptyPassword:!0}:null}ngOnDestroy(){this.subs.filter(o=>(0,m.Uh)(o)).forEach(o=>o.unsubscribe())}}return n.\u0275fac=function(o){return new(o||n)(t.\u0275\u0275directiveInject(e.w1X),t.\u0275\u0275directiveInject(s.sK),t.\u0275\u0275directiveInject(u.k),t.\u0275\u0275directiveInject(E.T))},n.\u0275cmp=t.\u0275\u0275defineComponent({type:n,selectors:[["ds-profile-page-security-form"]],inputs:{passwordCanBeEmpty:"passwordCanBeEmpty",FORM_PREFIX:"FORM_PREFIX"},outputs:{isInvalid:"isInvalid",passwordValue:"passwordValue"},decls:7,vars:8,consts:[[1,"mb-4",3,"type"],[3,"formId","formModel","formGroup","displaySubmit","displayCancel",4,"ngIf"],["id","notLongEnough","class","container-fluid text-danger",4,"ngIf"],["id","notSame","class","container-fluid text-danger",4,"ngIf"],["id","emptyPassword","class","container-fluid text-danger",4,"ngIf"],[3,"formId","formModel","formGroup","displaySubmit","displayCancel"],["id","notLongEnough",1,"container-fluid","text-danger"],["id","notSame",1,"container-fluid","text-danger"],["id","emptyPassword",1,"container-fluid","text-danger"]],template:function(o,a){1&o&&(t.\u0275\u0275elementStart(0,"ds-alert",0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,v,1,5,"ds-form",1),t.\u0275\u0275template(4,I,3,3,"div",2),t.\u0275\u0275template(5,y,3,3,"div",3),t.\u0275\u0275template(6,C,3,3,"div",4)),2&o&&(t.\u0275\u0275property("type","alert-info"),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,6,a.FORM_PREFIX+"info")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.formModel),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.formGroup.hasError("notLongEnough")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a.formGroup.hasError("notSame")),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",(a.formGroup.dirty||a.formGroup.touched)&&a.formGroup.hasError("emptyPassword")))},directives:[p.w,i.O5,d.U,l.JL,l.sg],pipes:[s.X$],encapsulation:2}),n})()},12093:(h,c,r)=>{r.r(c),r.d(c,{ForgotPasswordFormComponent:()=>f});var t=r(80490),e=r(5e3),m=r(69808),u=r(82928),E=r(86956);function g(s,p){if(1&s){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",1)(1,"h3",2),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",3)(5,"div",4),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",5)(9,"div",6)(10,"div",7)(11,"label",8),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"span",9),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(17,"div",3)(18,"div",4),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div",5)(22,"ds-profile-page-security-form",10),e.\u0275\u0275listener("isInvalid",function(l){return e.\u0275\u0275restoreView(i),e.\u0275\u0275nextContext().setInValid(l)})("passwordValue",function(l){return e.\u0275\u0275restoreView(i),e.\u0275\u0275nextContext().setPasswordValue(l)}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(23,"div",6)(24,"div",7)(25,"button",11),e.\u0275\u0275listener("click",function(){return e.\u0275\u0275restoreView(i),e.\u0275\u0275nextContext().submit()}),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"translate"),e.\u0275\u0275elementEnd()()()()}if(2&s){const i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,9,"forgot-password.form.head")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,11,"forgot-password.form.identification.header")),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(13,13,"forgot-password.form.identification.email")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(16,15,i.registration$).email),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(20,17,"forgot-password.form.card.security")),e.\u0275\u0275advance(3),e.\u0275\u0275property("passwordCanBeEmpty",!1)("FORM_PREFIX","forgot-password.form."),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",i.isInValid),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(27,19,"forgot-password.form.submit"))}}let f=(()=>{class s extends t.ForgotPasswordFormComponent{}return s.\u0275fac=function(){let p;return function(d){return(p||(p=e.\u0275\u0275getInheritedFactory(s)))(d||s)}}(),s.\u0275cmp=e.\u0275\u0275defineComponent({type:s,selectors:[["ds-forgot-password-form"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"mb-4"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"col-12"],["for","email",1,"font-weight-bold"],["id","email"],[3,"passwordCanBeEmpty","FORM_PREFIX","isInvalid","passwordValue"],[1,"btn","btn-default","btn-primary",3,"disabled","click"]],template:function(i,d){1&i&&(e.\u0275\u0275template(0,g,28,21,"div",0),e.\u0275\u0275pipe(1,"async")),2&i&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,1,d.registration$))},directives:[m.O5,u.V],pipes:[m.Ov,E.X$],styles:[""]}),s})()}}]);