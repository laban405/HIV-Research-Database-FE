(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[4664,2789],{71725:(K,D,t)=>{"use strict";t.d(D,{CH:()=>C,EV:()=>p});var _=t(69972),v=t(63352);const C="groups";function p(d){return new _.R((0,v.sr)(),C,d).toString()}},53982:(K,D,t)=>{"use strict";t.d(D,{a:()=>_});class _{constructor(C,I){this.text=C,this.url=I}}},7156:(K,D,t)=>{"use strict";t.d(D,{C:()=>g});var _=t(8108),v=t(42851),C=t(86785),I=t(55489),p=t(30858),d=t(36696),O=t(64025),u=t(27139),n=t(5e3),a=t(86956),r=t(41989),U=t(69808),e=t(7981),o=t(54240),B=t(50358);function b(m,T){if(1&m){const c=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"button",15),n.\u0275\u0275listener("click",function(){return n.\u0275\u0275restoreView(c),n.\u0275\u0275nextContext(4).deleteLogo()}),n.\u0275\u0275pipe(1,"translate"),n.\u0275\u0275element(2,"i",16),n.\u0275\u0275elementEnd()}if(2&m){const c=n.\u0275\u0275nextContext(4);n.\u0275\u0275propertyInterpolate("title",n.\u0275\u0275pipeBind1(1,1,c.type.value+".edit.logo.delete.title"))}}function V(m,T){if(1&m){const c=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"button",17),n.\u0275\u0275listener("click",function(){return n.\u0275\u0275restoreView(c),n.\u0275\u0275nextContext(4).undoDeleteLogo()}),n.\u0275\u0275pipe(1,"translate"),n.\u0275\u0275element(2,"i",18),n.\u0275\u0275elementEnd()}if(2&m){const c=n.\u0275\u0275nextContext(4);n.\u0275\u0275propertyInterpolate("title",n.\u0275\u0275pipeBind1(1,1,c.type.value+".edit.logo.delete-undo.title"))}}function z(m,T){if(1&m&&(n.\u0275\u0275elementStart(0,"div",12),n.\u0275\u0275template(1,b,3,3,"button",13),n.\u0275\u0275template(2,V,3,3,"button",14),n.\u0275\u0275elementEnd()),2&m){const c=n.\u0275\u0275nextContext(3);n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!c.markLogoForDeletion),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",c.markLogoForDeletion)}}const $=function(m){return{"alert-danger":m}};function A(m,T){if(1&m&&(n.\u0275\u0275elementStart(0,"div",7)(1,"div",1)(2,"div",8),n.\u0275\u0275element(3,"ds-comcol-page-logo",9),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(4,"div",10),n.\u0275\u0275template(5,z,3,2,"div",11),n.\u0275\u0275elementEnd()()()),2&m){const c=n.\u0275\u0275nextContext().ngVar,L=n.\u0275\u0275nextContext();n.\u0275\u0275property("ngClass",n.\u0275\u0275pureFunction1(3,$,L.markLogoForDeletion)),n.\u0275\u0275advance(3),n.\u0275\u0275property("logo",c),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",c)}}function j(m,T){if(1&m){const c=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"ds-uploader",20),n.\u0275\u0275listener("onCompleteItem",function(){return n.\u0275\u0275restoreView(c),n.\u0275\u0275nextContext(3).onCompleteItem()})("onUploadError",function(){return n.\u0275\u0275restoreView(c),n.\u0275\u0275nextContext(3).onUploadError()}),n.\u0275\u0275elementEnd()}if(2&m){const c=n.\u0275\u0275nextContext(3);n.\u0275\u0275property("dropMsg",c.type.value+".edit.logo.upload")("dropOverDocumentMsg",c.type.value+".edit.logo.upload")("enableDragOverDocument",!0)("uploadFilesOptions",c.uploadFilesOptions)}}function M(m,T){if(1&m&&(n.\u0275\u0275elementStart(0,"div",2),n.\u0275\u0275template(1,j,1,4,"ds-uploader",19),n.\u0275\u0275pipe(2,"async"),n.\u0275\u0275elementEnd()),2&m){const c=n.\u0275\u0275nextContext(2);n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",n.\u0275\u0275pipeBind1(2,1,c.initializedUploaderOptions))}}function E(m,T){if(1&m&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,A,6,5,"div",5),n.\u0275\u0275template(2,M,3,3,"div",6),n.\u0275\u0275elementContainerEnd()),2&m){const c=T.ngVar;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",c),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!c)}}function f(m,T){if(1&m){const c=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"ds-form",21),n.\u0275\u0275listener("submitForm",function(){return n.\u0275\u0275restoreView(c),n.\u0275\u0275nextContext().onSubmit()}),n.\u0275\u0275elementStart(1,"button",22),n.\u0275\u0275listener("click",function(){return n.\u0275\u0275restoreView(c),n.\u0275\u0275nextContext().back.emit()}),n.\u0275\u0275element(2,"i",23),n.\u0275\u0275text(3),n.\u0275\u0275pipe(4,"translate"),n.\u0275\u0275elementEnd()()}if(2&m){const c=n.\u0275\u0275nextContext();n.\u0275\u0275property("formId","comcol-form-id")("formModel",c.formModel)("displayCancel",!1),n.\u0275\u0275advance(3),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(4,4,c.type.value+".edit.return")," ")}}let g=(()=>{class m extends C.M{constructor(c,L,W,H,J,X,G){super(c,L,W,H,X,G),this.formService=c,this.translate=L,this.notificationsService=W,this.authService=H,this.dsoService=J,this.requestService=X,this.objectCache=G,this.dso=new v.S,this.type=v.S.type,this.formModel=[new _.b1u({id:"title",name:"dc.title",required:!0,validators:{required:null},errorMessages:{required:"Please enter a name for this title"}}),new _.HBf({id:"description",name:"dc.description"}),new _.HBf({id:"abstract",name:"dc.description.abstract"}),new _.HBf({id:"rights",name:"dc.rights"}),new _.HBf({id:"tableofcontents",name:"dc.description.tableofcontents"})]}}return m.\u0275fac=function(c){return new(c||m)(n.\u0275\u0275directiveInject(_.w1X),n.\u0275\u0275directiveInject(a.sK),n.\u0275\u0275directiveInject(I.T),n.\u0275\u0275directiveInject(d.e8),n.\u0275\u0275directiveInject(p.w),n.\u0275\u0275directiveInject(O.s),n.\u0275\u0275directiveInject(u.a))},m.\u0275cmp=n.\u0275\u0275defineComponent({type:m,selectors:[["ds-community-form"]],inputs:{dso:"dso"},features:[n.\u0275\u0275InheritDefinitionFeature],decls:9,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","d-inline-block"],[4,"ngVar"],[3,"formId","formModel","displayCancel","submitForm",4,"ngIf"],["class","col-12 d-inline-block alert","id","logo-section",3,"ngClass",4,"ngIf"],["class","col-12 d-inline-block",4,"ngIf"],["id","logo-section",1,"col-12","d-inline-block","alert",3,"ngClass"],[1,"col-8","d-inline-block"],[3,"logo"],[1,"col-4","d-inline-block"],["class","btn-group btn-group-sm float-right","role","group",4,"ngIf"],["role","group",1,"btn-group","btn-group-sm","float-right"],["type","button","class","btn btn-danger",3,"title","click",4,"ngIf"],["type","button","class","btn btn-warning",3,"title","click",4,"ngIf"],["type","button",1,"btn","btn-danger",3,"title","click"],["aria-hidden","true",1,"fas","fa-trash"],["type","button",1,"btn","btn-warning",3,"title","click"],["aria-hidden","true",1,"fas","fa-undo"],[3,"dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions","onCompleteItem","onUploadError",4,"ngIf"],[3,"dropMsg","dropOverDocumentMsg","enableDragOverDocument","uploadFilesOptions","onCompleteItem","onUploadError"],[3,"formId","formModel","displayCancel","submitForm"],["before","",1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-arrow-left"]],template:function(c,L){if(1&c&&(n.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"label"),n.\u0275\u0275text(4),n.\u0275\u0275pipe(5,"translate"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275template(6,E,3,2,"ng-container",3),n.\u0275\u0275pipe(7,"async"),n.\u0275\u0275elementEnd()(),n.\u0275\u0275template(8,f,5,6,"ds-form",4)),2&c){let W;n.\u0275\u0275advance(4),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(5,3,L.type.value+".edit.logo.label")),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngVar",null==(W=n.\u0275\u0275pipeBind1(7,5,null==L.dso?null:L.dso.logo))?null:W.payload),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",L.formModel)}},directives:[r.g,U.O5,U.mk,e.e,o.B,B.U],pipes:[a.X$,U.Ov],styles:[""]}),m})()},2525:(K,D,t)=>{"use strict";t.d(D,{T:()=>p});var _=t(42501),v=t(7976),C=t(83429),I=t(5e3);let p=(()=>{class d{}return d.\u0275fac=function(u){return new(u||d)},d.\u0275mod=I.\u0275\u0275defineNgModule({type:d}),d.\u0275inj=I.\u0275\u0275defineInjector({imports:[[v.H,C.e,_.m]]}),d})()},30082:(K,D,t)=>{"use strict";t.r(D),t.d(D,{CommunityPageComponent:()=>Z});var _=t(54004),v=t(39300),C=t(86099),I=t(30858),p=t(29589),d=t(72031),O=t(38475),u=t(46283),n=t(36696),a=t(86316),r=t(5587),U=t(34736),e=t(59130),o=t(5e3),B=t(74202),b=t(41989),V=t(69808),z=t(52789),$=t(62017),A=t(7981),j=t(67216),M=t(68e3),E=t(84983),f=t(26167),g=t(46450),m=t(21171),T=t(27924),c=t(86956);function L(P,S){if(1&P&&(o.\u0275\u0275element(0,"ds-comcol-page-logo",19),o.\u0275\u0275pipe(1,"async")),2&P){const l=o.\u0275\u0275nextContext(4);let F;o.\u0275\u0275property("logo",null==(F=o.\u0275\u0275pipeBind1(1,2,l.logoRD$))?null:F.payload)("alternateText","Community Logo")}}function W(P,S){if(1&P&&(o.\u0275\u0275element(0,"ds-dso-page-edit-button",20),o.\u0275\u0275pipe(1,"async")),2&P){const l=o.\u0275\u0275nextContext().$implicit,F=o.\u0275\u0275nextContext(3);o.\u0275\u0275property("pageRoute",o.\u0275\u0275pipeBind1(1,3,F.communityPageRoute$))("dso",l)("tooltipMsg","community.page.edit")}}function H(P,S){if(1&P&&(o.\u0275\u0275elementStart(0,"footer",21),o.\u0275\u0275element(1,"ds-comcol-page-content",11),o.\u0275\u0275elementEnd()),2&P){const l=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("content",l.copyrightText)("hasInnerHtml",!0)}}function J(P,S){if(1&P&&(o.\u0275\u0275elementStart(0,"div"),o.\u0275\u0275element(1,"ds-view-tracker",6),o.\u0275\u0275elementStart(2,"div",7)(3,"header",8),o.\u0275\u0275element(4,"ds-comcol-page-header",9),o.\u0275\u0275template(5,L,2,4,"ds-comcol-page-logo",10),o.\u0275\u0275element(6,"ds-comcol-page-content",11)(7,"ds-comcol-page-content",12),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(8,"div",13),o.\u0275\u0275template(9,W,2,5,"ds-dso-page-edit-button",14),o.\u0275\u0275pipe(10,"async"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(11,"section",15),o.\u0275\u0275element(12,"ds-themed-comcol-page-browse-by",16)(13,"ds-community-page-sub-community-list",17)(14,"ds-community-page-sub-collection-list",17),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(15,H,2,2,"footer",18),o.\u0275\u0275elementEnd()),2&P){const l=S.$implicit,F=o.\u0275\u0275nextContext(3);o.\u0275\u0275advance(1),o.\u0275\u0275property("object",l),o.\u0275\u0275advance(3),o.\u0275\u0275property("name",l.name),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",F.logoRD$),o.\u0275\u0275advance(1),o.\u0275\u0275property("content",l.introductoryText)("hasInnerHtml",!0),o.\u0275\u0275advance(1),o.\u0275\u0275property("content",l.sidebarText)("hasInnerHtml",!0)("title","community.page.news"),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",o.\u0275\u0275pipeBind1(10,14,F.isCommunityAdmin$)),o.\u0275\u0275advance(3),o.\u0275\u0275property("id",l.id)("contentType",l.type),o.\u0275\u0275advance(1),o.\u0275\u0275property("community",l),o.\u0275\u0275advance(1),o.\u0275\u0275property("community",l),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",l.copyrightText)}}function X(P,S){if(1&P&&(o.\u0275\u0275elementStart(0,"div",4),o.\u0275\u0275template(1,J,16,16,"div",5),o.\u0275\u0275elementEnd()),2&P){const l=o.\u0275\u0275nextContext().ngVar;o.\u0275\u0275property("@fadeInOut",void 0),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",null==l?null:l.payload)}}function G(P,S){1&P&&(o.\u0275\u0275element(0,"ds-error",22),o.\u0275\u0275pipe(1,"translate")),2&P&&o.\u0275\u0275propertyInterpolate("message",o.\u0275\u0275pipeBind1(1,1,"error.community"))}function Y(P,S){1&P&&(o.\u0275\u0275element(0,"ds-loading",22),o.\u0275\u0275pipe(1,"translate")),2&P&&o.\u0275\u0275propertyInterpolate("message",o.\u0275\u0275pipeBind1(1,1,"loading.community"))}function w(P,S){if(1&P&&(o.\u0275\u0275elementStart(0,"div",1),o.\u0275\u0275template(1,X,2,2,"div",2),o.\u0275\u0275template(2,G,2,3,"ds-error",3),o.\u0275\u0275template(3,Y,2,3,"ds-loading",3),o.\u0275\u0275elementEnd()),2&P){const l=S.ngVar;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",null==l?null:l.hasSucceeded),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",null==l?null:l.hasFailed),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",null==l?null:l.isLoading)}}let Z=(()=>{class P{constructor(l,F,k,q,Q,tt){this.communityDataService=l,this.metadata=F,this.route=k,this.router=q,this.authService=Q,this.authorizationDataService=tt}ngOnInit(){this.communityRD$=this.route.data.pipe((0,_.U)(l=>l.dso),(0,e.Gh)(this.router,this.authService)),this.logoRD$=this.communityRD$.pipe((0,_.U)(l=>l.payload),(0,v.h)(l=>(0,O.Uh)(l)),(0,C.z)(l=>l.logo)),this.communityPageRoute$=this.communityRD$.pipe((0,u.mc)(),(0,_.U)(l=>(0,U.Ke)(l.id))),this.isCommunityAdmin$=this.authorizationDataService.isAuthorized(r.i.IsCommunityAdmin)}}return P.\u0275fac=function(l){return new(l||P)(o.\u0275\u0275directiveInject(I.w),o.\u0275\u0275directiveInject(p.D),o.\u0275\u0275directiveInject(B.gz),o.\u0275\u0275directiveInject(B.F0),o.\u0275\u0275directiveInject(n.e8),o.\u0275\u0275directiveInject(a._))},P.\u0275cmp=o.\u0275\u0275defineComponent({type:P,selectors:[["ds-community-page"]],decls:2,vars:3,consts:[["class","container",4,"ngVar"],[1,"container"],["class","community-page",4,"ngIf"],[3,"message",4,"ngIf"],[1,"community-page"],[4,"ngIf"],[3,"object"],[1,"d-flex","flex-row","border-bottom","mb-4","pb-4"],[1,"comcol-header","mr-auto"],[3,"name"],[3,"logo","alternateText",4,"ngIf"],[3,"content","hasInnerHtml"],[3,"content","hasInnerHtml","title"],[1,"pl-2","space-children-mr"],[3,"pageRoute","dso","tooltipMsg",4,"ngIf"],[1,"comcol-page-browse-section"],[3,"id","contentType"],[3,"community"],["class","border-top my-5 pt-4",4,"ngIf"],[3,"logo","alternateText"],[3,"pageRoute","dso","tooltipMsg"],[1,"border-top","my-5","pt-4"],[3,"message"]],template:function(l,F){1&l&&(o.\u0275\u0275template(0,w,4,3,"div",0),o.\u0275\u0275pipe(1,"async")),2&l&&o.\u0275\u0275property("ngVar",o.\u0275\u0275pipeBind1(1,1,F.communityRD$))},directives:[b.g,V.O5,z.f,$.U,A.e,j.v,M._,E.g,f.I,g.o,m.q,T.N],pipes:[V.Ov,c.X$],styles:[""],data:{animation:[d.Ic]},changeDetection:0}),P})()},41593:(K,D,t)=>{"use strict";t.r(D),t.d(D,{CommunityPageModule:()=>lt});var _=t(69808),v=t(42501),p=(t(30082),t(46450),t(74202)),d=t(80692),O=t(42851),u=t(30858),n=t(9168),a=t(52547),r=t(55489),U=t(64025),e=t(5e3),o=t(86956),B=t(41989),b=t(7156);function V(i,h){1&i&&(e.\u0275\u0275elementStart(0,"h2",7),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"community.create.head")))}const z=function(i){return{parent:i}};function $(i,h){if(1&i&&(e.\u0275\u0275elementStart(0,"h2",8),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i){const s=e.\u0275\u0275nextContext().ngVar;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(2,1,"community.create.sub-head",e.\u0275\u0275pureFunction1(4,z,s.name)))}}function A(i,h){if(1&i&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,V,3,3,"h2",5),e.\u0275\u0275template(2,$,3,6,"h2",6),e.\u0275\u0275elementContainerEnd()),2&i){const s=h.ngVar;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!s),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",s)}}let j=(()=>{class i extends a.k{constructor(s,y,x,R,N,nt){super(s,s,y,x,R,N,nt),this.communityDataService=s,this.routeService=y,this.router=x,this.notificationsService=R,this.translate=N,this.requestService=nt,this.frontendURL="/communities/",this.type=O.S.type}}return i.\u0275fac=function(s){return new(s||i)(e.\u0275\u0275directiveInject(u.w),e.\u0275\u0275directiveInject(n.MZ),e.\u0275\u0275directiveInject(p.F0),e.\u0275\u0275directiveInject(r.T),e.\u0275\u0275directiveInject(o.sK),e.\u0275\u0275directiveInject(U.s))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["ds-create-community"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:6,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-12","pb-4"],[4,"ngVar"],[3,"submitForm","back","finish"],["id","header","class","border-bottom pb-2",4,"ngIf"],["id","sub-header","class","border-bottom pb-2",4,"ngIf"],["id","header",1,"border-bottom","pb-2"],["id","sub-header",1,"border-bottom","pb-2"]],template:function(s,y){if(1&s&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),e.\u0275\u0275template(3,A,3,2,"ng-container",3),e.\u0275\u0275pipe(4,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"ds-community-form",4),e.\u0275\u0275listener("submitForm",function(R){return y.onSubmit(R)})("back",function(){return y.navigateToHome()})("finish",function(){return y.navigateToNewPage()}),e.\u0275\u0275elementEnd()()),2&s){let x;e.\u0275\u0275advance(3),e.\u0275\u0275property("ngVar",null==(x=e.\u0275\u0275pipeBind1(4,1,y.parentRD$))?null:x.payload)}},directives:[B.g,_.O5,b.C],pipes:[_.Ov,o.X$],styles:[""]}),i})();var M=t(29714),E=t(38475),f=t(54004),g=t(18505),m=t(39646),T=t(46283);let c=(()=>{class i{constructor(s,y){this.router=s,this.communityService=y}canActivate(s,y){const x=s.queryParams.parent;return(0,E.xI)(x)?(0,m.of)(!0):this.communityService.findById(x).pipe((0,T.hC)(),(0,f.U)(R=>(0,E.Uh)(R)&&R.hasSucceeded&&(0,E.Uh)(R.payload)),(0,g.b)(R=>{R||this.router.navigate(["/404"])}))}}return i.\u0275fac=function(s){return new(s||i)(e.\u0275\u0275inject(p.F0),e.\u0275\u0275inject(u.w))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac}),i})();var L=t(61194);function W(i,h){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"i",12),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"community.delete.processing"),""))}function H(i,h){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"i",13),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"community.delete.confirm"),""))}const J=function(i){return{dso:i}};function X(i,h){if(1&i){const s=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",3)(2,"h2",4),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"p",5),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",6)(9,"div",7)(10,"button",8),e.\u0275\u0275listener("click",function(){const R=e.\u0275\u0275restoreView(s).ngVar;return e.\u0275\u0275nextContext().onCancel(R)}),e.\u0275\u0275pipe(11,"async"),e.\u0275\u0275element(12,"i",9),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",10),e.\u0275\u0275listener("click",function(){const R=e.\u0275\u0275restoreView(s).ngVar;return e.\u0275\u0275nextContext().onConfirm(R)}),e.\u0275\u0275pipe(16,"async"),e.\u0275\u0275template(17,W,4,3,"span",11),e.\u0275\u0275pipe(18,"async"),e.\u0275\u0275template(19,H,4,3,"span",11),e.\u0275\u0275pipe(20,"async"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementContainerEnd()}if(2&i){const s=h.ngVar,y=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,7,"community.delete.head")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(7,9,"community.delete.text",e.\u0275\u0275pureFunction1(22,J,s.name))),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(11,12,y.processing$)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(14,14,"community.delete.cancel")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",e.\u0275\u0275pipeBind1(16,16,y.processing$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(18,18,y.processing$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!e.\u0275\u0275pipeBind1(20,20,y.processing$))}}let G=(()=>{class i extends L.M{constructor(s,y,x,R,N){super(s,y,x,R,N),this.dsoDataService=s,this.router=y,this.route=x,this.notifications=R,this.translate=N,this.frontendURL="/communities/"}}return i.\u0275fac=function(s){return new(s||i)(e.\u0275\u0275directiveInject(u.w),e.\u0275\u0275directiveInject(p.F0),e.\u0275\u0275directiveInject(p.gz),e.\u0275\u0275directiveInject(r.T),e.\u0275\u0275directiveInject(o.sK))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["ds-delete-community"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:3,consts:[[1,"container"],[1,"row"],[4,"ngVar"],[1,"col-12","pb-4"],["id","header",1,"border-bottom","pb-2"],[1,"pb-2"],[1,"form-group","row"],[1,"col","text-right","space-children-mr"],[1,"btn","btn-outline-secondary",3,"disabled","click"],[1,"fas","fa-times"],[1,"btn","btn-danger",3,"disabled","click"],[4,"ngIf"],[1,"fas","fa-circle-notch","fa-spin"],[1,"fas","fa-trash"]],template:function(s,y){if(1&s&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275template(2,X,21,24,"ng-container",2),e.\u0275\u0275pipe(3,"async"),e.\u0275\u0275elementEnd()()),2&s){let x;e.\u0275\u0275advance(2),e.\u0275\u0275property("ngVar",null==(x=e.\u0275\u0275pipeBind1(3,1,y.dsoRD$))?null:x.payload)}},directives:[B.g,_.O5],pipes:[_.Ov,o.X$],styles:[""]}),i})();var Y=t(18270),w=t(63626);let Z=(()=>{class i extends w.t{constructor(s,y){super(s,y),this.breadcrumbService=s,this.dataService=y}get followLinks(){return d.x}}return i.\u0275fac=function(s){return new(s||i)(e.\u0275\u0275inject(Y.B),e.\u0275\u0275inject(u.w))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var P=t(74229),S=t(34736),l=t(86316),F=t(25071),k=t(5587),q=t(36696);let Q=(()=>{class i extends F.h{constructor(s,y,x,R){super(s,y,x,R),this.resolver=s,this.authorizationService=y,this.router=x,this.authService=R}getFeatureID(s,y){return(0,m.of)(k.i.AdministratorOf)}}return i.\u0275fac=function(s){return new(s||i)(e.\u0275\u0275inject(d.h),e.\u0275\u0275inject(l._),e.\u0275\u0275inject(p.F0),e.\u0275\u0275inject(q.e8))},i.\u0275prov=e.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var tt=t(79094);function ot(i,h){}let et=(()=>{class i extends tt.F{getComponentName(){return"CommunityPageComponent"}importThemedComponent(s){return t(67695)(`./${s}/app/community-page/community-page.component`)}importUnthemedComponent(){return Promise.resolve().then(t.bind(t,30082))}}return i.\u0275fac=function(){let h;return function(y){return(h||(h=e.\u0275\u0275getInheritedFactory(i)))(y||i)}}(),i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["ds-themed-community-page"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(s,y){1&s&&e.\u0275\u0275template(0,ot,0,0,"ng-template",null,0,e.\u0275\u0275templateRefExtractor)},encapsulation:2}),i})();var it=t(14256);let at=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({providers:[d.h,Z,Y.B,P.M,c,Q],imports:[[p.Bz.forChild([{path:S.GR,component:j,canActivate:[M.J,c]},{path:":id",resolve:{dso:d.h,breadcrumb:Z},runGuardsAndResolvers:"always",children:[{path:S.WY,loadChildren:()=>Promise.all([t.e(5159),t.e(4033)]).then(t.bind(t,24033)).then(h=>h.EditCommunityPageModule),canActivate:[Q]},{path:"delete",pathMatch:"full",component:G,canActivate:[M.J]},{path:"",component:et,pathMatch:"full"}],data:{menu:{public:[{id:"statistics_community_:id",active:!0,visible:!0,model:{type:it.U.LINK,text:"menu.section.statistics",link:"statistics/communities/:id/"}}]}}}])]]}),i})();t(26167);var st=t(8563),mt=t(2525),ct=t(7976);let lt=(()=>{class i{}return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[[_.ez,v.m,at,st.p.forRoot(),mt.T,ct.H]]}),i})()},46450:(K,D,t)=>{"use strict";t.d(D,{o:()=>j});var _=t(61135),v=t(39841),I=(t(42851),t(72031)),p=t(74293),d=t(35471),O=t(31054),u=t(94799),n=t(63900),a=t(5e3),r=t(41989),U=t(69808),e=t(33098),o=t(21171),B=t(27924),b=t(86956);function V(M,E){if(1&M&&(a.\u0275\u0275elementStart(0,"div")(1,"h2"),a.\u0275\u0275text(2),a.\u0275\u0275pipe(3,"translate"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(4,"ds-viewable-collection",3),a.\u0275\u0275elementEnd()),2&M){const f=a.\u0275\u0275nextContext().ngVar,g=a.\u0275\u0275nextContext();a.\u0275\u0275property("@fadeIn",void 0),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(3,6,"community.sub-collection-list.head")),a.\u0275\u0275advance(2),a.\u0275\u0275property("config",g.config)("sortConfig",g.sortConfig)("objects",f)("hideGear",!1)}}function z(M,E){1&M&&(a.\u0275\u0275element(0,"ds-error",4),a.\u0275\u0275pipe(1,"translate")),2&M&&a.\u0275\u0275propertyInterpolate("message",a.\u0275\u0275pipeBind1(1,1,"error.sub-collections"))}function $(M,E){1&M&&(a.\u0275\u0275element(0,"ds-loading",4),a.\u0275\u0275pipe(1,"translate")),2&M&&a.\u0275\u0275propertyInterpolate("message",a.\u0275\u0275pipeBind1(1,1,"loading.sub-collections"))}function A(M,E){if(1&M&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275template(1,V,5,8,"div",1),a.\u0275\u0275template(2,z,2,3,"ds-error",2),a.\u0275\u0275template(3,$,2,3,"ds-loading",2),a.\u0275\u0275elementContainerEnd()),2&M){const f=E.ngVar;a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",(null==f?null:f.hasSucceeded)&&(null==f?null:f.payload.totalElements)>0),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",null==f?null:f.hasFailed),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",null==f?null:f.isLoading)}}let j=(()=>{class M{constructor(f,g){this.cds=f,this.paginationService=g,this.pageId="cmcl",this.subCollectionsRDObs=new _.X({})}ngOnInit(){this.config=new p.r,this.config.id=this.pageId,this.config.pageSize=5,this.config.currentPage=1,this.sortConfig=new d.o("dc.title",d.S.ASC),this.initPage()}initPage(){const f=this.paginationService.getCurrentPagination(this.config.id,this.config),g=this.paginationService.getCurrentSort(this.config.id,this.sortConfig);(0,v.a)([f,g]).pipe((0,n.w)(([m,T])=>this.cds.findByParent(this.community.id,{currentPage:m.currentPage,elementsPerPage:m.pageSize,sort:{field:T.field,direction:T.direction}}))).subscribe(m=>{this.subCollectionsRDObs.next(m)})}ngOnDestroy(){this.paginationService.clearPagination(this.config.id)}}return M.\u0275fac=function(f){return new(f||M)(a.\u0275\u0275directiveInject(O.W),a.\u0275\u0275directiveInject(u.N))},M.\u0275cmp=a.\u0275\u0275defineComponent({type:M,selectors:[["ds-community-page-sub-collection-list"]],inputs:{community:"community"},decls:2,vars:3,consts:[[4,"ngVar"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"config","sortConfig","objects","hideGear"],[3,"message"]],template:function(f,g){1&f&&(a.\u0275\u0275template(0,A,4,3,"ng-container",0),a.\u0275\u0275pipe(1,"async")),2&f&&a.\u0275\u0275property("ngVar",a.\u0275\u0275pipeBind1(1,1,g.subCollectionsRDObs))},directives:[r.g,U.O5,e.c,o.q,B.N],pipes:[U.Ov,b.X$],styles:[""],data:{animation:[I.Ji]}}),M})()},26167:(K,D,t)=>{"use strict";t.d(D,{I:()=>M});var _=t(61135),v=t(39841),I=(t(42851),t(72031)),p=t(74293),d=t(35471),O=t(30858),u=t(46283),n=t(63900),a=t(94799),r=t(5e3),U=t(41989),e=t(69808),o=t(33098),B=t(21171),b=t(27924),V=t(86956);function z(E,f){if(1&E&&(r.\u0275\u0275elementStart(0,"div")(1,"h2"),r.\u0275\u0275text(2),r.\u0275\u0275pipe(3,"translate"),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(4,"ds-viewable-collection",3),r.\u0275\u0275elementEnd()),2&E){const g=r.\u0275\u0275nextContext().ngVar,m=r.\u0275\u0275nextContext();r.\u0275\u0275property("@fadeIn",void 0),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(r.\u0275\u0275pipeBind1(3,6,"community.sub-community-list.head")),r.\u0275\u0275advance(2),r.\u0275\u0275property("config",m.config)("sortConfig",m.sortConfig)("objects",g)("hideGear",!1)}}function $(E,f){1&E&&(r.\u0275\u0275element(0,"ds-error",4),r.\u0275\u0275pipe(1,"translate")),2&E&&r.\u0275\u0275propertyInterpolate("message",r.\u0275\u0275pipeBind1(1,1,"error.sub-communities"))}function A(E,f){1&E&&(r.\u0275\u0275element(0,"ds-loading",4),r.\u0275\u0275pipe(1,"translate")),2&E&&r.\u0275\u0275propertyInterpolate("message",r.\u0275\u0275pipeBind1(1,1,"loading.sub-communities"))}function j(E,f){if(1&E&&(r.\u0275\u0275elementContainerStart(0),r.\u0275\u0275template(1,z,5,8,"div",1),r.\u0275\u0275template(2,$,2,3,"ds-error",2),r.\u0275\u0275template(3,A,2,3,"ds-loading",2),r.\u0275\u0275elementContainerEnd()),2&E){const g=f.ngVar;r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",(null==g?null:g.hasSucceeded)&&(null==g?null:g.payload.totalElements)>0),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",null==g?null:g.hasFailed),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",null==g?null:g.isLoading)}}let M=(()=>{class E{constructor(g,m){this.cds=g,this.paginationService=m,this.pageId="cmscm",this.subCommunitiesRDObs=new _.X({})}ngOnInit(){this.config=new p.r,this.config.id=this.pageId,this.config.pageSize=5,this.config.currentPage=1,this.sortConfig=new d.o("dc.title",d.S.ASC),this.initPage()}initPage(){const g=this.paginationService.getCurrentPagination(this.config.id,this.config),m=this.paginationService.getCurrentSort(this.config.id,this.sortConfig);(0,v.a)([g,m]).pipe((0,n.w)(([T,c])=>this.cds.findByParent(this.community.id,{currentPage:T.currentPage,elementsPerPage:T.pageSize,sort:{field:c.field,direction:c.direction}}))).subscribe(T=>{this.subCommunitiesRDObs.next(T)}),this.cds.findByParent(this.community.id,{currentPage:this.config.currentPage,elementsPerPage:this.config.pageSize,sort:{field:this.sortConfig.field,direction:this.sortConfig.direction}}).pipe((0,u.Ot)()).subscribe(T=>{this.subCommunitiesRDObs.next(T)})}ngOnDestroy(){this.paginationService.clearPagination(this.config.id)}}return E.\u0275fac=function(g){return new(g||E)(r.\u0275\u0275directiveInject(O.w),r.\u0275\u0275directiveInject(a.N))},E.\u0275cmp=r.\u0275\u0275defineComponent({type:E,selectors:[["ds-community-page-sub-community-list"]],inputs:{community:"community"},decls:2,vars:3,consts:[[4,"ngVar"],[4,"ngIf"],[3,"message",4,"ngIf"],[3,"config","sortConfig","objects","hideGear"],[3,"message"]],template:function(g,m){1&g&&(r.\u0275\u0275template(0,j,4,3,"ng-container",0),r.\u0275\u0275pipe(1,"async")),2&g&&r.\u0275\u0275property("ngVar",r.\u0275\u0275pipeBind1(1,1,m.subCommunitiesRDObs))},directives:[U.g,e.O5,o.c,B.q,b.N],pipes:[e.Ov,V.X$],styles:[""],data:{animation:[I.Ji]}}),E})()},63626:(K,D,t)=>{"use strict";t.d(D,{t:()=>O});var _=t(18270),v=t(15811),C=t(46283),I=t(54004),p=t(38475),d=t(5e3);let O=(()=>{class u{constructor(a,r){this.breadcrumbService=a,this.dataService=r}resolve(a,r){const U=a.params.id;return this.dataService.findById(U,!0,!1,...this.followLinks).pipe((0,C.hC)(),(0,C.xe)(),(0,I.U)(e=>{if((0,p.Uh)(e)){const o=r.url,B=o.substr(0,o.indexOf(U))+U;return{provider:this.breadcrumbService,key:e,url:B}}}))}}return u.\u0275fac=function(a){return new(a||u)(d.\u0275\u0275inject(_.B),d.\u0275\u0275inject(v.D))},u.\u0275prov=d.\u0275\u0275defineInjectable({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},18270:(K,D,t)=>{"use strict";t.d(D,{B:()=>U});var _=t(53982),v=t(39646),C=t(74229),I=t(18838),p=t(40367),d=t(63900),O=t(54004),u=t(38475),n=t(63352),a=t(5e3),r=t(63782);let U=(()=>{class e{constructor(B,b){this.linkService=B,this.dsoNameService=b}getBreadcrumbs(B,b){const V=this.dsoNameService.getName(B),z=new _.a(V,b),$=B.getParentLinkKey();return this.linkService.resolveLink(B,(0,I.l)($))[$].pipe((0,p.s)(A=>A.hasSucceeded||204===A.statusCode),(0,d.w)(A=>{if((0,u.Uh)(A.payload)){const j=A.payload;return this.getBreadcrumbs(j,(0,n.Y4)(j))}return(0,v.of)([])}),(0,O.U)(A=>[...A,z]))}}return e.\u0275fac=function(B){return new(B||e)(a.\u0275\u0275inject(C.M),a.\u0275\u0275inject(r._))},e.\u0275prov=a.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},25071:(K,D,t)=>{"use strict";t.d(D,{h:()=>C});var _=t(40767),v=t(54004);class C extends _.q{getFeatureIDs(p,d){return this.getFeatureID(p,d).pipe((0,v.U)(O=>[O]))}}},40767:(K,D,t)=>{"use strict";t.d(D,{q:()=>p});var _=t(46283),v=t(54004),C=t(38475),I=t(29616);class p extends I.I{constructor(O,u,n,a){super(u,n,a),this.resolver=O,this.authorizationService=u,this.router=n,this.authService=a}getObjectUrl(O,u){const n=this.getRouteWithDSOId(O);return this.resolver.resolve(n,u).pipe((0,_.mc)(),(0,v.U)(a=>a.self))}getRouteWithDSOId(O){let u=O;for(;(0,C.xI)(u.params.id)&&(0,C.Uh)(u.parent);)u=u.parent;return u}}},32527:(K,D,t)=>{"use strict";t.d(D,{K:()=>C});const v={RESOLVED:(0,t(6845).d)("dspace/resolver/RESOLVED")};class C{constructor(p,d){this.type=v.RESOLVED,this.payload={url:p,dso:d}}}},52789:(K,D,t)=>{"use strict";t.d(D,{f:()=>I}),t(20166);var v=t(5e3),C=t(13758);let I=(()=>{class p{constructor(O){this.angulartics2=O}ngOnInit(){this.angulartics2.eventTrack.next({action:"pageView",properties:{object:this.object}})}}return p.\u0275fac=function(O){return new(O||p)(v.\u0275\u0275directiveInject(C.b))},p.\u0275cmp=v.\u0275\u0275defineComponent({type:p,selectors:[["ds-view-tracker"]],inputs:{object:"object"},decls:1,vars:0,template:function(O,u){1&O&&v.\u0275\u0275text(0,"\xa0\n")},styles:["[_nghost-%COMP%]{display:none}"]}),p})()},67695:(K,D,t)=>{var _={"./custom/app/community-page/community-page.component":[4137,4137]};function v(C){if(!t.o(_,C))return Promise.resolve().then(()=>{var d=new Error("Cannot find module '"+C+"'");throw d.code="MODULE_NOT_FOUND",d});var I=_[C],p=I[0];return t.e(I[1]).then(()=>t(p))}v.keys=()=>Object.keys(_),v.id=67695,K.exports=v}}]);