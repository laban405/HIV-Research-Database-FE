(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[4910],{71725:(P,h,o)=>{"use strict";o.d(h,{CH:()=>p,EV:()=>m});var d=o(69972),l=o(63352);const p="groups";function m(c){return new d.R((0,l.sr)(),p,c).toString()}},53982:(P,h,o)=>{"use strict";o.d(h,{a:()=>d});class d{constructor(p,y){this.text=p,this.url=y}}},79557:(P,h,o)=>{"use strict";o.r(h),o.d(h,{BrowseByPageModule:()=>Re});var d=o(74202),l=o(61195),p=o(38475),y=o(63900),m=o(54004),c=o(46283),C=o(39646),u=o(12806),e=o(5e3),f=o(86956);let D=(()=>{class n{constructor(t,a,i){this.dsoService=t,this.translate=a,this.browseDefinitionService=i}canActivate(t,a){const i=t.data.title,s=t.params.id||t.queryParams.id||t.data.id;let g;g=(0,p.xI)(t.data.browseDefinition)&&(0,p.Uh)(s)?this.browseDefinitionService.findById(s).pipe((0,c.Gp)()):(0,C.of)(t.data.browseDefinition);const w=t.queryParams.scope,O=t.queryParams.value,R=this.translate.instant("browse.metadata."+s);return g.pipe((0,y.w)(v=>(0,p.Uh)(w)?this.dsoService.findById(w).pipe((0,c.xw)()).pipe((0,m.U)(H=>(t.data=this.createData(i,s,v,H.payload.name,R,O,t),!0))):(t.data=this.createData(i,s,v,"",R,O,t),(0,C.of)(!0))))}createData(t,a,i,s,g,w,O){return Object.assign({},O.data,{title:t,id:a,browseDefinition:i,collection:s,field:g,value:(0,p.Uh)(w)?`"${w}"`:""})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275inject(l.D),e.\u0275\u0275inject(f.sK),e.\u0275\u0275inject(u.v))},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();var Y=o(18270),I=o(63352);let F=(()=>{class n{constructor(t,a){this.breadcrumbService=t,this.dataService=a}resolve(t,a){const i=t.queryParams.scope;if((0,p.Uh)(i))return this.dataService.findById(i).pipe((0,c.xw)(),(0,c.xe)(),(0,m.U)(s=>({provider:this.breadcrumbService,key:s,url:(0,I.Y4)(s)})))}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275inject(Y.B),e.\u0275\u0275inject(l.D))},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();var b=o(84186),U=o(55633);let N=(()=>{class n extends b.t{constructor(t){super(t),this.breadcrumbService=t}resolve(t,a){return t.data=Object.assign({},t.data,{breadcrumbKey:t.data.breadcrumbKey+"."+t.params.id}),super.resolve(t,a)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275inject(U.d))},n.\u0275prov=e.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac}),n})();var z=o(79094);function A(n,r){}let _=(()=>{class n extends z.F{getComponentName(){return"BrowseBySwitcherComponent"}importThemedComponent(t){return o(12960)(`./${t}/app/browse-by/browse-by-switcher/browse-by-switcher.component`)}importUnthemedComponent(){return o.e(8592).then(o.bind(o,68136))}}return n.\u0275fac=function(){let r;return function(a){return(r||(r=e.\u0275\u0275getInheritedFactory(n)))(a||n)}}(),n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ds-themed-browse-by-switcher"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(t,a){1&t&&e.\u0275\u0275template(0,A,0,0,"ng-template",null,0,e.\u0275\u0275templateRefExtractor)},encapsulation:2}),n})(),K=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({providers:[N,F],imports:[[d.Bz.forChild([{path:"",resolve:{breadcrumb:F},children:[{path:":id",component:_,canActivate:[D],resolve:{breadcrumb:N},data:{title:"browse.title.page",breadcrumbKey:"browse.metadata"}}]}])]]}),n})();var E=o(69808),M=o(70655),G=o(39841),oe=o(74293),W=o(35471),x=o(47205);class L{constructor(r,t,a,i,s){this.metadataDefinition=r,this.pagination=t,this.sort=a,this.startsWith=i,this.scope=s}}var ne=o(71539),$=o(53506),j=o(94799),X=o(41989),Z=o(62017),J=o(67216),Q=o(84983),k=o(87155),q=o(27924);function ae(n,r){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"header",7),e.\u0275\u0275element(2,"ds-comcol-page-header",8)(3,"ds-comcol-page-content",9)(4,"ds-comcol-page-content",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"ds-themed-comcol-page-browse-by",11),e.\u0275\u0275elementContainerEnd()),2&n){const t=r.ngIf;e.\u0275\u0275advance(2),e.\u0275\u0275property("name",t.name),e.\u0275\u0275advance(1),e.\u0275\u0275property("content",t.introductoryText)("hasInnerHtml",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("content",t.sidebarText)("hasInnerHtml",!0)("title","community.page.news"),e.\u0275\u0275advance(1),e.\u0275\u0275property("id",t.id)("contentType",t.type)}}function ie(n,r){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ae,6,8,"ng-container",6),e.\u0275\u0275elementContainerEnd()),2&n){const t=r.ngVar;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==t?null:t.payload)}}const se=function(n){return{startsWith:n}},ce=function(n,r,t,a){return{collection:n,field:r,startsWith:t,value:a}};function pe(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ds-browse-by",12),e.\u0275\u0275listener("prev",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().goPrev()})("next",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().goNext()}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext();let a,i;e.\u0275\u0275propertyInterpolate("title",e.\u0275\u0275pipeBind2(1,7,"browse.title",e.\u0275\u0275pureFunction4(25,ce,(null==(a=e.\u0275\u0275pipeBind1(2,10,t.parent$))||null==a.payload?null:a.payload.name)||"",e.\u0275\u0275pipeBind1(3,12,"browse.metadata."+t.browseId),t.startsWith?e.\u0275\u0275pipeBind2(4,14,"browse.startsWith",e.\u0275\u0275pureFunction1(23,se,'"'+t.startsWith+'"')):"",t.value?'"'+t.value+'"':""))),e.\u0275\u0275propertyInterpolate("parentname",(null==(i=e.\u0275\u0275pipeBind1(5,17,t.parent$))||null==i.payload?null:i.payload.name)||""),e.\u0275\u0275property("objects$",void 0!==t.items$?t.items$:t.browseEntries$)("paginationConfig",e.\u0275\u0275pipeBind1(6,19,t.currentPagination$))("sortConfig",e.\u0275\u0275pipeBind1(7,21,t.currentSort$))("type",t.startsWithType)("startsWithOptions",t.startsWithOptions)}}function de(n,r){1&n&&(e.\u0275\u0275element(0,"ds-loading",13),e.\u0275\u0275pipe(1,"translate")),2&n&&e.\u0275\u0275propertyInterpolate("message",e.\u0275\u0275pipeBind1(1,1,"loading.browse-by-page"))}function le(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"footer",15)(1,"div"),e.\u0275\u0275element(2,"ds-comcol-page-content",9),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext().ngIf;e.\u0275\u0275advance(2),e.\u0275\u0275property("content",t.copyrightText)("hasInnerHtml",!0)}}function me(n,r){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,le,3,2,"footer",14),e.\u0275\u0275elementContainerEnd()),2&n){const t=r.ngIf;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.copyrightText)}}function ue(n,r){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,me,2,1,"ng-container",6),e.\u0275\u0275elementContainerEnd()),2&n){const t=r.ngVar;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==t?null:t.payload)}}let B=class{constructor(r,t,a,i,s){this.route=r,this.browseService=t,this.dsoService=a,this.paginationService=i,this.router=s,this.paginationConfig=Object.assign(new oe.r,{id:"bbm",currentPage:1,pageSize:20}),this.subs=[],this.defaultBrowseId="author",this.browseId=this.defaultBrowseId,this.startsWithType=ne.C4.text,this.value=""}ngOnInit(){const r=new W.o("default",W.S.ASC);this.updatePage(new L(this.defaultBrowseId,this.paginationConfig,r)),this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,r),this.subs.push((0,G.a)([this.route.params,this.route.queryParams,this.currentPagination$,this.currentSort$]).pipe((0,m.U)(([t,a,i,s])=>[Object.assign({},t,a),i,s])).subscribe(([t,a,i])=>{this.browseId=t.id||this.defaultBrowseId,this.authority=t.authority,this.value=+t.value||t.value||"",this.startsWith=+t.startsWith||t.startsWith;const s=ee(t,a,i,this.browseId);(0,p.UE)(this.value)?this.updatePageWithItems(s,this.value,this.authority):this.updatePage(s),this.updateParent(t.scope)})),this.updateStartsWithTextOptions()}updateStartsWithTextOptions(){this.startsWithOptions=["0-9",..."ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")]}updatePage(r){this.browseEntries$=this.browseService.getBrowseEntriesFor(r),this.items$=void 0}updatePageWithItems(r,t,a){this.items$=this.browseService.getBrowseItemsFor(t,a,r)}updateParent(r){(0,p.Uh)(r)&&(this.parent$=this.dsoService.findById(r).pipe((0,c.xw)()))}goPrev(){this.items$?this.items$.pipe((0,c.xw)()).subscribe(r=>{this.items$=this.browseService.getPrevBrowseItems(r)}):this.browseEntries$&&this.browseEntries$.pipe((0,c.xw)()).subscribe(r=>{this.browseEntries$=this.browseService.getPrevBrowseEntries(r)})}goNext(){this.items$?this.items$.pipe((0,c.xw)()).subscribe(r=>{this.items$=this.browseService.getNextBrowseItems(r)}):this.browseEntries$&&this.browseEntries$.pipe((0,c.xw)()).subscribe(r=>{this.browseEntries$=this.browseService.getNextBrowseEntries(r)})}ngOnDestroy(){this.subs.filter(r=>(0,p.Uh)(r)).forEach(r=>r.unsubscribe()),this.paginationService.clearPagination(this.paginationConfig.id)}};function ee(n,r,t,a){return new L(a,r,t,+n.startsWith||n.startsWith,n.scope)}function ge(n,r){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"header",7),e.\u0275\u0275element(2,"ds-comcol-page-header",8)(3,"ds-comcol-page-content",9)(4,"ds-comcol-page-content",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"ds-themed-comcol-page-browse-by",11),e.\u0275\u0275elementContainerEnd()),2&n){const t=r.ngIf;e.\u0275\u0275advance(2),e.\u0275\u0275property("name",t.name),e.\u0275\u0275advance(1),e.\u0275\u0275property("content",t.introductoryText)("hasInnerHtml",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("content",t.sidebarText)("hasInnerHtml",!0)("title","community.page.news"),e.\u0275\u0275advance(1),e.\u0275\u0275property("id",t.id)("contentType",t.type)}}function he(n,r){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,ge,6,8,"ng-container",6),e.\u0275\u0275elementContainerEnd()),2&n){const t=r.ngVar;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==t?null:t.payload)}}B.\u0275fac=function(r){return new(r||B)(e.\u0275\u0275directiveInject(d.gz),e.\u0275\u0275directiveInject(x.I),e.\u0275\u0275directiveInject(l.D),e.\u0275\u0275directiveInject(j.N),e.\u0275\u0275directiveInject(d.F0))},B.\u0275cmp=e.\u0275\u0275defineComponent({type:B,selectors:[["ds-browse-by-metadata-page"]],decls:9,vars:8,consts:[[1,"container"],[4,"ngVar"],[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],["class","col-xs-12 w-100",3,"title","parentname","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next",4,"ngIf"],[3,"message",4,"ngIf"],[4,"ngIf"],[1,"comcol-header","border-bottom","mb-4","pb-4"],[3,"name"],[3,"content","hasInnerHtml"],[3,"content","hasInnerHtml","title"],[3,"id","contentType"],[1,"col-xs-12","w-100",3,"title","parentname","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next"],[3,"message"],["class","border-top my-5 pt-4",4,"ngIf"],[1,"border-top","my-5","pt-4"]],template:function(r,t){1&r&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,ie,2,1,"ng-container",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"section",2)(4,"div",3),e.\u0275\u0275template(5,pe,8,30,"ds-browse-by",4),e.\u0275\u0275template(6,de,2,3,"ds-loading",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(7,ue,2,1,"ng-container",1),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275elementEnd()),2&r&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngVar",e.\u0275\u0275pipeBind1(2,4,t.parent$)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.startsWithOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.startsWithOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngVar",e.\u0275\u0275pipeBind1(8,6,t.parent$)))},directives:[X.g,E.O5,Z.U,J.v,Q.g,k.B,q.N],pipes:[E.Ov,f.X$],styles:[""]}),B=(0,M.gn)([(0,$.du)($.Zt.Metadata),(0,M.w6)("design:paramtypes",[d.gz,x.I,l.D,j.N,d.F0])],B);const ye=function(n){return{startsWith:n}},fe=function(n,r,t,a){return{collection:n,field:r,startsWith:t,value:a}};function ve(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ds-browse-by",12),e.\u0275\u0275listener("prev",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().goPrev()})("next",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().goNext()}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext();let a,i;e.\u0275\u0275propertyInterpolate("title",e.\u0275\u0275pipeBind2(1,7,"browse.title",e.\u0275\u0275pureFunction4(25,fe,(null==(a=e.\u0275\u0275pipeBind1(2,10,t.parent$))||null==a.payload?null:a.payload.name)||"",e.\u0275\u0275pipeBind1(3,12,"browse.metadata."+t.browseId),t.startsWith?e.\u0275\u0275pipeBind2(4,14,"browse.startsWith",e.\u0275\u0275pureFunction1(23,ye,'"'+t.startsWith+'"')):"",t.value?'"'+t.value+'"':""))),e.\u0275\u0275propertyInterpolate("parentname",(null==(i=e.\u0275\u0275pipeBind1(5,17,t.parent$))||null==i.payload?null:i.payload.name)||""),e.\u0275\u0275property("objects$",void 0!==t.items$?t.items$:t.browseEntries$)("paginationConfig",e.\u0275\u0275pipeBind1(6,19,t.currentPagination$))("sortConfig",e.\u0275\u0275pipeBind1(7,21,t.currentSort$))("type",t.startsWithType)("startsWithOptions",t.startsWithOptions)}}function be(n,r){1&n&&(e.\u0275\u0275element(0,"ds-loading",13),e.\u0275\u0275pipe(1,"translate")),2&n&&e.\u0275\u0275propertyInterpolate("message",e.\u0275\u0275pipeBind1(1,1,"loading.browse-by-page"))}function _e(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"footer",15)(1,"div"),e.\u0275\u0275element(2,"ds-comcol-page-content",9),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext().ngIf;e.\u0275\u0275advance(2),e.\u0275\u0275property("content",t.copyrightText)("hasInnerHtml",!0)}}function Be(n,r){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,_e,3,2,"footer",14),e.\u0275\u0275elementContainerEnd()),2&n){const t=r.ngIf;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.copyrightText)}}function we(n,r){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Be,2,1,"ng-container",6),e.\u0275\u0275elementContainerEnd()),2&n){const t=r.ngVar;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==t?null:t.payload)}}let S=class extends B{constructor(r,t,a,i,s){super(r,t,a,i,s),this.route=r,this.browseService=t,this.dsoService=a,this.paginationService=i,this.router=s}ngOnInit(){const r=new W.o("dc.title",W.S.ASC);this.updatePage(new L(this.defaultBrowseId,this.paginationConfig,r)),this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,r),this.subs.push((0,G.a)([this.route.params,this.route.queryParams,this.currentPagination$,this.currentSort$]).pipe((0,m.U)(([t,a,i,s])=>[Object.assign({},t,a),i,s])).subscribe(([t,a,i])=>{this.startsWith=+t.startsWith||t.startsWith,this.browseId=t.id||this.defaultBrowseId,this.updatePageWithItems(ee(t,a,i,this.browseId),void 0,void 0),this.updateParent(t.scope)})),this.updateStartsWithTextOptions()}ngOnDestroy(){this.subs.filter(r=>(0,p.Uh)(r)).forEach(r=>r.unsubscribe())}};S.\u0275fac=function(r){return new(r||S)(e.\u0275\u0275directiveInject(d.gz),e.\u0275\u0275directiveInject(x.I),e.\u0275\u0275directiveInject(l.D),e.\u0275\u0275directiveInject(j.N),e.\u0275\u0275directiveInject(d.F0))},S.\u0275cmp=e.\u0275\u0275defineComponent({type:S,selectors:[["ds-browse-by-title-page"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:9,vars:8,consts:[[1,"container"],[4,"ngVar"],[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],["class","col-xs-12 w-100",3,"title","parentname","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next",4,"ngIf"],[3,"message",4,"ngIf"],[4,"ngIf"],[1,"comcol-header","border-bottom","mb-4","pb-4"],[3,"name"],[3,"content","hasInnerHtml"],[3,"content","hasInnerHtml","title"],[3,"id","contentType"],[1,"col-xs-12","w-100",3,"title","parentname","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next"],[3,"message"],["class","border-top my-5 pt-4",4,"ngIf"],[1,"border-top","my-5","pt-4"]],template:function(r,t){1&r&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,he,2,1,"ng-container",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"section",2)(4,"div",3),e.\u0275\u0275template(5,ve,8,30,"ds-browse-by",4),e.\u0275\u0275template(6,be,2,3,"ds-loading",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(7,we,2,1,"ng-container",1),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275elementEnd()),2&r&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngVar",e.\u0275\u0275pipeBind1(2,4,t.parent$)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.startsWithOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.startsWithOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngVar",e.\u0275\u0275pipeBind1(8,6,t.parent$)))},directives:[X.g,E.O5,Z.U,J.v,Q.g,k.B,q.N],pipes:[E.Ov,f.X$],styles:[""]}),S=(0,M.gn)([(0,$.du)($.Zt.Title),(0,M.w6)("design:paramtypes",[d.gz,x.I,l.D,j.N,d.F0])],S);var re=o(42501),te=o(41298),Ce=o(88155);function Ie(n,r){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"header",7),e.\u0275\u0275element(2,"ds-comcol-page-header",8)(3,"ds-comcol-page-content",9)(4,"ds-comcol-page-content",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"ds-themed-comcol-page-browse-by",11),e.\u0275\u0275elementContainerEnd()),2&n){const t=r.ngIf;e.\u0275\u0275advance(2),e.\u0275\u0275property("name",t.name),e.\u0275\u0275advance(1),e.\u0275\u0275property("content",t.introductoryText)("hasInnerHtml",!0),e.\u0275\u0275advance(1),e.\u0275\u0275property("content",t.sidebarText)("hasInnerHtml",!0)("title","community.page.news"),e.\u0275\u0275advance(1),e.\u0275\u0275property("id",t.id)("contentType",t.type)}}function Pe(n,r){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Ie,6,8,"ng-container",6),e.\u0275\u0275elementContainerEnd()),2&n){const t=r.ngVar;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==t?null:t.payload)}}const Ee=function(n){return{startsWith:n}},xe=function(n,r,t,a){return{collection:n,field:r,startsWith:t,value:a}};function Se(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ds-browse-by",12),e.\u0275\u0275listener("prev",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().goPrev()})("next",function(){return e.\u0275\u0275restoreView(t),e.\u0275\u0275nextContext().goNext()}),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275pipe(5,"async"),e.\u0275\u0275pipe(6,"async"),e.\u0275\u0275pipe(7,"async"),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext();let a,i;e.\u0275\u0275propertyInterpolate("title",e.\u0275\u0275pipeBind2(1,7,"browse.title",e.\u0275\u0275pureFunction4(25,xe,(null==(a=e.\u0275\u0275pipeBind1(2,10,t.parent$))||null==a.payload?null:a.payload.name)||"",e.\u0275\u0275pipeBind1(3,12,"browse.metadata."+t.browseId),t.startsWith?e.\u0275\u0275pipeBind2(4,14,"browse.startsWith",e.\u0275\u0275pureFunction1(23,Ee,'"'+t.startsWith+'"')):"",t.value?'"'+t.value+'"':""))),e.\u0275\u0275propertyInterpolate("parentname",(null==(i=e.\u0275\u0275pipeBind1(5,17,t.parent$))||null==i.payload?null:i.payload.name)||""),e.\u0275\u0275property("objects$",void 0!==t.items$?t.items$:t.browseEntries$)("paginationConfig",e.\u0275\u0275pipeBind1(6,19,t.currentPagination$))("sortConfig",e.\u0275\u0275pipeBind1(7,21,t.currentSort$))("type",t.startsWithType)("startsWithOptions",t.startsWithOptions)}}function Te(n,r){1&n&&(e.\u0275\u0275element(0,"ds-loading",13),e.\u0275\u0275pipe(1,"translate")),2&n&&e.\u0275\u0275propertyInterpolate("message",e.\u0275\u0275pipeBind1(1,1,"loading.browse-by-page"))}function Oe(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"footer",15)(1,"div"),e.\u0275\u0275element(2,"ds-comcol-page-content",9),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext().ngIf;e.\u0275\u0275advance(2),e.\u0275\u0275property("content",t.copyrightText)("hasInnerHtml",!0)}}function De(n,r){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,Oe,3,2,"footer",14),e.\u0275\u0275elementContainerEnd()),2&n){const t=r.ngIf;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.copyrightText)}}function Me(n,r){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,De,2,1,"ng-container",6),e.\u0275\u0275elementContainerEnd()),2&n){const t=r.ngVar;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==t?null:t.payload)}}let T=class extends B{constructor(r,t,a,i,s,g){super(r,t,a,s,i),this.route=r,this.browseService=t,this.dsoService=a,this.router=i,this.paginationService=s,this.cdRef=g,this.defaultMetadataKeys=["dc.date.issued"]}ngOnInit(){const r=new W.o("default",W.S.ASC);this.startsWithType=ne.C4.date,this.updatePage(new L(this.defaultBrowseId,this.paginationConfig,r)),this.currentPagination$=this.paginationService.getCurrentPagination(this.paginationConfig.id,this.paginationConfig),this.currentSort$=this.paginationService.getCurrentSort(this.paginationConfig.id,r),this.subs.push((0,G.a)([this.route.params,this.route.queryParams,this.route.data,this.currentPagination$,this.currentSort$]).pipe((0,m.U)(([t,a,i,s,g])=>[Object.assign({},t,a,i),s,g])).subscribe(([t,a,i])=>{const s=t.browseDefinition?t.browseDefinition.metadataKeys:this.defaultMetadataKeys;this.browseId=t.id||this.defaultBrowseId,this.startsWith=+t.startsWith||t.startsWith;const g=ee(t,a,i,this.browseId);this.updatePageWithItems(g,this.value,void 0),this.updateParent(t.scope),this.updateStartsWithOptions(this.browseId,s,t.scope)}))}updateStartsWithOptions(r,t,a){this.subs.push(this.browseService.getFirstItemFor(r,a).subscribe(i=>{let s=te.N.browseBy.defaultLowerLimit;if((0,p.Uh)(i.payload)){const V=i.payload.firstMetadataValue(t);if((0,p.UE)(V)&&(0,Ce.qb)(V)){const H=new Date(V);s=isNaN(H.getUTCFullYear())?s:H.getUTCFullYear()}}const g=[],w=(new Date).getUTCFullYear(),O=5*Math.floor((w-te.N.browseBy.oneYearLimit)/5),R=10*Math.floor((w-te.N.browseBy.fiveYearLimit)/10);s-=s<=R?10:s<=O?5:1;let v=w;for(;v>s;)g.push(v),v<=R?v-=10:v<=O?v-=5:v--;(0,p.UE)(g)&&(this.startsWithOptions=g,this.cdRef.detectChanges())}))}};T.\u0275fac=function(r){return new(r||T)(e.\u0275\u0275directiveInject(d.gz),e.\u0275\u0275directiveInject(x.I),e.\u0275\u0275directiveInject(l.D),e.\u0275\u0275directiveInject(d.F0),e.\u0275\u0275directiveInject(j.N),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},T.\u0275cmp=e.\u0275\u0275defineComponent({type:T,selectors:[["ds-browse-by-date-page"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:9,vars:8,consts:[[1,"container"],[4,"ngVar"],[1,"comcol-page-browse-section"],[1,"browse-by-metadata","w-100"],["class","col-xs-12 w-100",3,"title","parentname","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next",4,"ngIf"],[3,"message",4,"ngIf"],[4,"ngIf"],[1,"comcol-header","border-bottom","mb-4","pb-4"],[3,"name"],[3,"content","hasInnerHtml"],[3,"content","hasInnerHtml","title"],[3,"id","contentType"],[1,"col-xs-12","w-100",3,"title","parentname","objects$","paginationConfig","sortConfig","type","startsWithOptions","prev","next"],[3,"message"],["class","border-top my-5 pt-4",4,"ngIf"],[1,"border-top","my-5","pt-4"]],template:function(r,t){1&r&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275template(1,Pe,2,1,"ng-container",1),e.\u0275\u0275pipe(2,"async"),e.\u0275\u0275elementStart(3,"section",2)(4,"div",3),e.\u0275\u0275template(5,Se,8,30,"ds-browse-by",4),e.\u0275\u0275template(6,Te,2,3,"ds-loading",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(7,Me,2,1,"ng-container",1),e.\u0275\u0275pipe(8,"async"),e.\u0275\u0275elementEnd()),2&r&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngVar",e.\u0275\u0275pipeBind1(2,4,t.parent$)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.startsWithOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.startsWithOptions),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngVar",e.\u0275\u0275pipeBind1(8,6,t.parent$)))},directives:[X.g,E.O5,Z.U,J.v,Q.g,k.B,q.N],pipes:[E.Ov,f.X$],styles:[""]}),T=(0,M.gn)([(0,$.du)($.Zt.Date),(0,M.w6)("design:paramtypes",[d.gz,x.I,l.D,d.F0,j.N,e.ChangeDetectorRef])],T);var We=o(7976);const $e=[S,B,T];let je=(()=>{class n{static withEntryComponents(){return{ngModule:re.m,providers:$e.map(t=>({provide:t}))}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[[E.ez,We.H,re.m]]}),n})();var Ue=o(58187);let Re=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({providers:[Ue.S,x.I,D],imports:[[K,je.withEntryComponents()]]}),n})()},18270:(P,h,o)=>{"use strict";o.d(h,{B:()=>Y});var d=o(53982),l=o(39646),p=o(74229),y=o(18838),m=o(40367),c=o(63900),C=o(54004),u=o(38475),e=o(63352),f=o(5e3),D=o(63782);let Y=(()=>{class I{constructor(b,U){this.linkService=b,this.dsoNameService=U}getBreadcrumbs(b,U){const N=this.dsoNameService.getName(b),z=new d.a(N,U),A=b.getParentLinkKey();return this.linkService.resolveLink(b,(0,y.l)(A))[A].pipe((0,m.s)(_=>_.hasSucceeded||204===_.statusCode),(0,c.w)(_=>{if((0,u.Uh)(_.payload)){const K=_.payload;return this.getBreadcrumbs(K,(0,e.Y4)(K))}return(0,l.of)([])}),(0,C.U)(_=>[..._,z]))}}return I.\u0275fac=function(b){return new(b||I)(f.\u0275\u0275inject(p.M),f.\u0275\u0275inject(D._))},I.\u0275prov=f.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac,providedIn:"root"}),I})()},84186:(P,h,o)=>{"use strict";o.d(h,{t:()=>m});var d=o(38475),l=o(1272),p=o(5e3),y=o(55633);let m=(()=>{class c{constructor(u){this.breadcrumbService=u}resolve(u,e){const f=u.data.breadcrumbKey;if((0,d.xI)(f))throw new Error('You provided an i18nBreadcrumbResolver for url "'+u.url+"\" but no breadcrumbKey in the route's data");const D=(0,l.i)(u);return{provider:this.breadcrumbService,key:f,url:D}}}return c.\u0275fac=function(u){return new(u||c)(p.\u0275\u0275inject(y.d))},c.\u0275prov=p.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},55633:(P,h,o)=>{"use strict";o.d(h,{d:()=>m});var d=o(53982),l=o(39646),p=o(5e3);let m=(()=>{class c{getBreadcrumbs(u,e){return(0,l.of)([new d.a(u+".breadcrumbs",e)])}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275prov=p.\u0275\u0275defineInjectable({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},12960:(P,h,o)=>{var d={"./custom/app/browse-by/browse-by-switcher/browse-by-switcher.component":[9865,8592,9865]};function l(p){if(!o.o(d,p))return Promise.resolve().then(()=>{var c=new Error("Cannot find module '"+p+"'");throw c.code="MODULE_NOT_FOUND",c});var y=d[p],m=y[0];return Promise.all(y.slice(1).map(o.e)).then(()=>o(m))}l.keys=()=>Object.keys(d),l.id=12960,P.exports=l}}]);