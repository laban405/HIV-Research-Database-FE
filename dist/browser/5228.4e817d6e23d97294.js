(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[5228],{75228:(j,v,n)=>{"use strict";n.r(v),n.d(v,{LookupIdModule:()=>B});var l=n(69808),m=n(42501),d=n(71776),h=n(54004),y=n(18505),u=n(38475),D=n(55489),g=n(96530),I=n(27139),L=n(3592),C=n(15811),N=n(88369),U=n(64025),O=n(46283),E=n(96140),o=n(5e3),S=n(65620),M=n(40520),f=n(74202);let T=(()=>{class t extends C.D{constructor(e,i,a,r,p,c,$,W,b){super(),this.requestService=e,this.rdbService=i,this.store=a,this.objectCache=r,this.halService=p,this.notificationsService=c,this.http=$,this.comparator=W,this.router=b,this.linkPath="pid",this.uuidEndpoint="dso"}setLinkPath(e){e===d.fT.UUID&&(this.linkPath=this.uuidEndpoint)}getIDHref(e,i,...a){return this.buildHrefFromFindOptions(e.replace(/\{\?id\}/,`?id=${i}`).replace(/\{\?uuid\}/,`?uuid=${i}`),{},[],...a)}findByIdAndIDType(e,i=d.fT.UUID){return this.setLinkPath(i),this.findById(e).pipe((0,O.hC)(),(0,y.b)(a=>{if(a.hasSucceeded){const r=a.payload,p=r.uuid;if((0,u.Uh)(p)){let c=this.getEndpointFromDSOType(a.payload.type);r.type.startsWith("item")?c=(0,E.Tt)(r):(0,u.Uh)(c)&&(c+="/"+p),(0,u.Uh)(c)&&this.router.navigate([c])}}}))}getEndpointFromDSOType(e){return e.startsWith("item")?"items":e.startsWith("community")?"communities":e.startsWith("collection")?"collections":""}}return t.\u0275fac=function(e){return new(e||t)(o.\u0275\u0275inject(U.s),o.\u0275\u0275inject(g.Q),o.\u0275\u0275inject(S.yh),o.\u0275\u0275inject(I.a),o.\u0275\u0275inject(L.q),o.\u0275\u0275inject(D.T),o.\u0275\u0275inject(M.eN),o.\u0275\u0275inject(N.o),o.\u0275\u0275inject(f.F0))},t.\u0275prov=o.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})(),F=(()=>{class t{constructor(e){this.dsoService=e}canActivate(e,i){const a=this.getLookupParams(e);return this.dsoService.findByIdAndIDType(a.id,a.type).pipe((0,h.U)(r=>r.hasFailed))}getLookupParams(e){let i,a;const r=e.params.idType;return r!==d.fT.HANDLE&&r!==d.fT.UUID?(i=d.fT.HANDLE,a=`hdl:${e.params.idType}/${e.params.id}`):e.params.idType===d.fT.HANDLE?(i=d.fT.HANDLE,a="hdl:"+e.params.id):(i=d.fT.UUID,a=e.params.id),{type:i,id:a}}}return t.\u0275fac=function(e){return new(e||t)(o.\u0275\u0275inject(T))},t.\u0275prov=o.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),t})();var x=n(79094);function A(t,s){}let P=(()=>{class t extends x.F{getComponentName(){return"ObjectNotFoundComponent"}importThemedComponent(e){return n(98947)(`./${e}/app/lookup-by-id/objectnotfound/objectnotfound.component`)}importUnthemedComponent(){return n.e(8592).then(n.bind(n,16926))}}return t.\u0275fac=function(){let s;return function(i){return(s||(s=o.\u0275\u0275getInheritedFactory(t)))(i||t)}}(),t.\u0275cmp=o.\u0275\u0275defineComponent({type:t,selectors:[["ds-themed-objnotfound"]],features:[o.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(e,i){1&e&&o.\u0275\u0275template(0,A,0,0,"ng-template",null,0,o.\u0275\u0275templateRefExtractor)},encapsulation:2}),t})(),R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=o.\u0275\u0275defineInjector({providers:[F],imports:[[f.Bz.forChild([{matcher:H,canActivate:[F],component:P}])]]}),t})();function H(t){const s=t[0].path,e=t.slice(1).map(i=>i.path).join("/");return(0,u.UE)(s)&&(0,u.UE)(e)?{consumed:t,posParams:{idType:new f.bq(s,{}),id:new f.bq(e,{})}}:null}let B=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=o.\u0275\u0275defineInjector({providers:[T],imports:[[R,l.ez,m.m]]}),t})()},98947:(j,v,n)=>{var l={"./custom/app/lookup-by-id/objectnotfound/objectnotfound.component":[30160,8592,160]};function m(d){if(!n.o(l,d))return Promise.resolve().then(()=>{var u=new Error("Cannot find module '"+d+"'");throw u.code="MODULE_NOT_FOUND",u});var h=l[d],y=h[0];return Promise.all(h.slice(1).map(n.e)).then(()=>n(y))}m.keys=()=>Object.keys(l),m.id=98947,j.exports=m}}]);