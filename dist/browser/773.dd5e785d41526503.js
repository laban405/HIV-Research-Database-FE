(self.webpackChunkdspace_angular=self.webpackChunkdspace_angular||[]).push([[773],{53982:(y,E,e)=>{"use strict";e.d(E,{a:()=>l});class l{constructor(_,t){this.text=_,this.url=t}}},84186:(y,E,e)=>{"use strict";e.d(E,{t:()=>d});var l=e(38475),r=e(1272),_=e(5e3),t=e(55633);let d=(()=>{class n{constructor(p){this.breadcrumbService=p}resolve(p,T){const O=p.data.breadcrumbKey;if((0,l.xI)(O))throw new Error('You provided an i18nBreadcrumbResolver for url "'+p.url+"\" but no breadcrumbKey in the route's data");const x=(0,r.i)(p);return{provider:this.breadcrumbService,key:O,url:x}}}return n.\u0275fac=function(p){return new(p||n)(_.\u0275\u0275inject(t.d))},n.\u0275prov=_.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},55633:(y,E,e)=>{"use strict";e.d(E,{d:()=>d});var l=e(53982),r=e(39646),_=e(5e3);let d=(()=>{class n{getBreadcrumbs(p,T){return(0,r.of)([new l.a(p+".breadcrumbs",T)])}}return n.\u0275fac=function(p){return new(p||n)},n.\u0275prov=_.\u0275\u0275defineInjectable({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},32527:(y,E,e)=>{"use strict";e.d(E,{K:()=>_});const r={RESOLVED:(0,e(6845).d)("dspace/resolver/RESOLVED")};class _{constructor(d,n){this.type=r.RESOLVED,this.payload={url:d,dso:n}}}},10302:(y,E,e)=>{"use strict";e.d(E,{F:()=>P});var l=e(70655),r=e(40520),_=e(65620),t=e(55489),d=e(43568),n=e(96530),D=e(27139),p=e(3592),T=e(15811),O=e(64025),x=e(37334),I=e(63995),M=e(46283),C=e(54004),i=e(5e3);let P=class extends T.D{constructor(u,B,U,s,m,a,c,v){super(),this.comparator=u,this.halService=B,this.http=U,this.notificationsService=s,this.objectCache=m,this.rdbService=a,this.requestService=c,this.store=v,this.linkPath="usagereports"}getStatistic(u,B){return this.findById(`${u}_${B}`).pipe((0,M.xw)(),(0,M.xe)())}searchStatistics(u,B,U){return this.searchBy("object",{searchParams:[{fieldName:"uri",fieldValue:u}],currentPage:B,elementsPerPage:U},!0,!1).pipe((0,M.xw)(),(0,M.xe)(),(0,C.U)(s=>s.page))}};P.\u0275fac=function(u){return new(u||P)(i.\u0275\u0275inject(x.v),i.\u0275\u0275inject(p.q),i.\u0275\u0275inject(r.eN),i.\u0275\u0275inject(t.T),i.\u0275\u0275inject(D.a),i.\u0275\u0275inject(n.Q),i.\u0275\u0275inject(O.s),i.\u0275\u0275inject(_.yh))},P.\u0275prov=i.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac}),P=(0,l.gn)([(0,d.cQ)(I._),(0,l.w6)("design:paramtypes",[x.v,p.q,r.eN,t.T,D.a,n.Q,O.s,_.yh])],P)},40642:(y,E,e)=>{"use strict";e.d(E,{H:()=>p,I:()=>T});var l=e(58187),r=e(18838),_=e(46283),t=e(32527),d=e(5e3),n=e(65620),D=e(74202);const p=[(0,r.l)("owningCollection",{},(0,r.l)("parentCommunity",{},(0,r.l)("parentCommunity"))),(0,r.l)("relationships"),(0,r.l)("version",{},(0,r.l)("versionhistory")),(0,r.l)("thumbnail")];let T=(()=>{class O{constructor(I,M,C){this.itemService=I,this.store=M,this.router=C}resolve(I,M){const C=this.itemService.findById(I.params.id,!0,!1,...p).pipe((0,_.hC)());return C.subscribe(i=>{this.store.dispatch(new t.K(M.url,i.payload))}),C}}return O.\u0275fac=function(I){return new(I||O)(d.\u0275\u0275inject(l.S),d.\u0275\u0275inject(n.yh),d.\u0275\u0275inject(D.F0))},O.\u0275prov=d.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac}),O})()},22711:(y,E,e)=>{"use strict";e.r(E),e.d(E,{CollectionStatisticsPageComponent:()=>U});var l=e(2949),r=e(10302),_=e(36696),t=e(5e3),d=e(74202),n=e(63782),D=e(41989),p=e(69808),T=e(27924),O=e(20810),x=e(86956);const I=function(s){return{scope:s}};function M(s,m){if(1&s&&(t.\u0275\u0275elementStart(0,"h2",3),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s){const a=t.\u0275\u0275nextContext().ngVar,c=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("id",a.id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,2,"statistics.header",t.\u0275\u0275pureFunction1(5,I,c.getName(a)))," ")}}function C(s,m){if(1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,M,3,7,"h2",2),t.\u0275\u0275elementContainerEnd()),2&s){const a=m.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}function i(s,m){1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"ds-loading"),t.\u0275\u0275elementContainerEnd())}function P(s,m){if(1&s&&t.\u0275\u0275element(0,"ds-statistics-table",6),2&s){const a=m.$implicit;t.\u0275\u0275classMapInterpolate1("m-2 ",a.id,""),t.\u0275\u0275property("report",a)}}function g(s,m){1&s&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"statistics.page.no-data")," "))}function u(s,m){if(1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,P,1,4,"ds-statistics-table",5),t.\u0275\u0275template(2,g,3,3,"div",4),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementContainerEnd()),2&s){const a=t.\u0275\u0275nextContext().ngVar,c=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!t.\u0275\u0275pipeBind1(3,2,c.hasData$))}}function B(s,m){if(1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,i,2,0,"ng-container",4),t.\u0275\u0275template(2,u,4,4,"ng-container",4),t.\u0275\u0275elementContainerEnd()),2&s){const a=m.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}let U=(()=>{class s extends l.f{constructor(a,c,v,S,A){super(a,c,v,S,A),this.route=a,this.router=c,this.usageReportService=v,this.nameService=S,this.authService=A,this.types=["TotalVisits","TotalVisitsPerMonth","TopCountries","TopCities"]}}return s.\u0275fac=function(a){return new(a||s)(t.\u0275\u0275directiveInject(d.gz),t.\u0275\u0275directiveInject(d.F0),t.\u0275\u0275directiveInject(r.F),t.\u0275\u0275directiveInject(n._),t.\u0275\u0275directiveInject(_.e8))},s.\u0275cmp=t.\u0275\u0275defineComponent({type:s,selectors:[["ds-collection-statistics-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:5,vars:6,consts:[[1,"container"],[4,"ngVar"],["class","header",3,"id",4,"ngIf"],[1,"header",3,"id"],[4,"ngIf"],[3,"report","class",4,"ngFor","ngForOf"],[3,"report"]],template:function(a,c){1&a&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,C,2,1,"ng-container",1),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275template(3,B,3,2,"ng-container",1),t.\u0275\u0275pipe(4,"async"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(2,2,c.scope$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(4,4,c.reports$)))},directives:[D.g,p.O5,T.N,p.sg,O.A],pipes:[p.Ov,x.X$],styles:[""]}),s})()},61463:(y,E,e)=>{"use strict";e.r(E),e.d(E,{CommunityStatisticsPageComponent:()=>U});var l=e(2949),r=e(10302),_=e(36696),t=e(5e3),d=e(74202),n=e(63782),D=e(41989),p=e(69808),T=e(27924),O=e(20810),x=e(86956);const I=function(s){return{scope:s}};function M(s,m){if(1&s&&(t.\u0275\u0275elementStart(0,"h2",3),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s){const a=t.\u0275\u0275nextContext().ngVar,c=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("id",a.id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,2,"statistics.header",t.\u0275\u0275pureFunction1(5,I,c.getName(a)))," ")}}function C(s,m){if(1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,M,3,7,"h2",2),t.\u0275\u0275elementContainerEnd()),2&s){const a=m.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}function i(s,m){1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"ds-loading"),t.\u0275\u0275elementContainerEnd())}function P(s,m){if(1&s&&t.\u0275\u0275element(0,"ds-statistics-table",6),2&s){const a=m.$implicit;t.\u0275\u0275classMapInterpolate1("m-2 ",a.id,""),t.\u0275\u0275property("report",a)}}function g(s,m){1&s&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"statistics.page.no-data")," "))}function u(s,m){if(1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,P,1,4,"ds-statistics-table",5),t.\u0275\u0275template(2,g,3,3,"div",4),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementContainerEnd()),2&s){const a=t.\u0275\u0275nextContext().ngVar,c=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!t.\u0275\u0275pipeBind1(3,2,c.hasData$))}}function B(s,m){if(1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,i,2,0,"ng-container",4),t.\u0275\u0275template(2,u,4,4,"ng-container",4),t.\u0275\u0275elementContainerEnd()),2&s){const a=m.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}let U=(()=>{class s extends l.f{constructor(a,c,v,S,A){super(a,c,v,S,A),this.route=a,this.router=c,this.usageReportService=v,this.nameService=S,this.authService=A,this.types=["TotalVisits","TotalVisitsPerMonth","TopCountries","TopCities"]}}return s.\u0275fac=function(a){return new(a||s)(t.\u0275\u0275directiveInject(d.gz),t.\u0275\u0275directiveInject(d.F0),t.\u0275\u0275directiveInject(r.F),t.\u0275\u0275directiveInject(n._),t.\u0275\u0275directiveInject(_.e8))},s.\u0275cmp=t.\u0275\u0275defineComponent({type:s,selectors:[["ds-community-statistics-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:5,vars:6,consts:[[1,"container"],[4,"ngVar"],["class","header",3,"id",4,"ngIf"],[1,"header",3,"id"],[4,"ngIf"],[3,"report","class",4,"ngFor","ngForOf"],[3,"report"]],template:function(a,c){1&a&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,C,2,1,"ng-container",1),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275template(3,B,3,2,"ng-container",1),t.\u0275\u0275pipe(4,"async"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(2,2,c.scope$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(4,4,c.reports$)))},directives:[D.g,p.O5,T.N,p.sg,O.A],pipes:[p.Ov,x.X$],styles:[""]}),s})()},52716:(y,E,e)=>{"use strict";e.r(E),e.d(E,{ItemStatisticsPageComponent:()=>U});var l=e(2949),r=e(10302),_=e(36696),t=e(5e3),d=e(74202),n=e(63782),D=e(41989),p=e(69808),T=e(27924),O=e(20810),x=e(86956);const I=function(s){return{scope:s}};function M(s,m){if(1&s&&(t.\u0275\u0275elementStart(0,"h2",3),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s){const a=t.\u0275\u0275nextContext().ngVar,c=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("id",a.id),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(2,2,"statistics.header",t.\u0275\u0275pureFunction1(5,I,c.getName(a)))," ")}}function C(s,m){if(1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,M,3,7,"h2",2),t.\u0275\u0275elementContainerEnd()),2&s){const a=m.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}function i(s,m){1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"ds-loading"),t.\u0275\u0275elementContainerEnd())}function P(s,m){if(1&s&&t.\u0275\u0275element(0,"ds-statistics-table",6),2&s){const a=m.$implicit;t.\u0275\u0275classMapInterpolate1("m-2 ",a.id,""),t.\u0275\u0275property("report",a)}}function g(s,m){1&s&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),2&s&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"statistics.page.no-data")," "))}function u(s,m){if(1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,P,1,4,"ds-statistics-table",5),t.\u0275\u0275template(2,g,3,3,"div",4),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementContainerEnd()),2&s){const a=t.\u0275\u0275nextContext().ngVar,c=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!t.\u0275\u0275pipeBind1(3,2,c.hasData$))}}function B(s,m){if(1&s&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,i,2,0,"ng-container",4),t.\u0275\u0275template(2,u,4,4,"ng-container",4),t.\u0275\u0275elementContainerEnd()),2&s){const a=m.ngVar;t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!a),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",a)}}let U=(()=>{class s extends l.f{constructor(a,c,v,S,A){super(a,c,v,S,A),this.route=a,this.router=c,this.usageReportService=v,this.nameService=S,this.authService=A,this.types=["TotalVisits","TotalVisitsPerMonth","TotalDownloads","TopCountries","TopCities"]}}return s.\u0275fac=function(a){return new(a||s)(t.\u0275\u0275directiveInject(d.gz),t.\u0275\u0275directiveInject(d.F0),t.\u0275\u0275directiveInject(r.F),t.\u0275\u0275directiveInject(n._),t.\u0275\u0275directiveInject(_.e8))},s.\u0275cmp=t.\u0275\u0275defineComponent({type:s,selectors:[["ds-item-statistics-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:5,vars:6,consts:[[1,"container"],[4,"ngVar"],["class","header",3,"id",4,"ngIf"],[1,"header",3,"id"],[4,"ngIf"],[3,"report","class",4,"ngFor","ngForOf"],[3,"report"]],template:function(a,c){1&a&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,C,2,1,"ng-container",1),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275template(3,B,3,2,"ng-container",1),t.\u0275\u0275pipe(4,"async"),t.\u0275\u0275elementEnd()),2&a&&(t.\u0275\u0275advance(1),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(2,2,c.scope$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngVar",t.\u0275\u0275pipeBind1(4,4,c.reports$)))},directives:[D.g,p.O5,T.N,p.sg,O.A],pipes:[p.Ov,x.X$],styles:[""]}),s})()},71887:(y,E,e)=>{"use strict";e.r(E),e.d(E,{SiteStatisticsPageComponent:()=>m});var l=e(2949),r=e(79155),_=e(10302),t=e(63900),d=e(36696),n=e(5e3),D=e(74202),p=e(63782),T=e(41989),O=e(69808),x=e(27924),I=e(20810),M=e(86956);const C=function(a){return{scope:a}};function i(a,c){if(1&a&&(n.\u0275\u0275elementStart(0,"h2",3),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementEnd()),2&a){const v=n.\u0275\u0275nextContext().ngVar,S=n.\u0275\u0275nextContext();n.\u0275\u0275propertyInterpolate("id",v.id),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind2(2,2,"statistics.header",n.\u0275\u0275pureFunction1(5,C,S.getName(v)))," ")}}function P(a,c){if(1&a&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,i,3,7,"h2",2),n.\u0275\u0275elementContainerEnd()),2&a){const v=c.ngVar;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",v)}}function g(a,c){1&a&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275element(1,"ds-loading"),n.\u0275\u0275elementContainerEnd())}function u(a,c){if(1&a&&n.\u0275\u0275element(0,"ds-statistics-table",6),2&a){const v=c.$implicit;n.\u0275\u0275classMapInterpolate1("m-2 ",v.id,""),n.\u0275\u0275property("report",v)}}function B(a,c){1&a&&(n.\u0275\u0275elementStart(0,"div"),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"translate"),n.\u0275\u0275elementEnd()),2&a&&(n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(2,1,"statistics.page.no-data")," "))}function U(a,c){if(1&a&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,u,1,4,"ds-statistics-table",5),n.\u0275\u0275template(2,B,3,3,"div",4),n.\u0275\u0275pipe(3,"async"),n.\u0275\u0275elementContainerEnd()),2&a){const v=n.\u0275\u0275nextContext().ngVar,S=n.\u0275\u0275nextContext();n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",v),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!n.\u0275\u0275pipeBind1(3,2,S.hasData$))}}function s(a,c){if(1&a&&(n.\u0275\u0275elementContainerStart(0),n.\u0275\u0275template(1,g,2,0,"ng-container",4),n.\u0275\u0275template(2,U,4,4,"ng-container",4),n.\u0275\u0275elementContainerEnd()),2&a){const v=c.ngVar;n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",!v),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",v)}}let m=(()=>{class a extends l.f{constructor(v,S,A,L,F,K){super(v,S,A,L,K),this.route=v,this.router=S,this.usageReportService=A,this.nameService=L,this.siteService=F,this.authService=K,this.types=["TotalVisits"]}getScope$(){return this.siteService.find()}getReports$(){return this.scope$.pipe((0,t.w)(v=>this.usageReportService.searchStatistics(v._links.self.href,0,10)))}}return a.\u0275fac=function(v){return new(v||a)(n.\u0275\u0275directiveInject(D.gz),n.\u0275\u0275directiveInject(D.F0),n.\u0275\u0275directiveInject(_.F),n.\u0275\u0275directiveInject(p._),n.\u0275\u0275directiveInject(r.a),n.\u0275\u0275directiveInject(d.e8))},a.\u0275cmp=n.\u0275\u0275defineComponent({type:a,selectors:[["ds-site-statistics-page"]],features:[n.\u0275\u0275InheritDefinitionFeature],decls:5,vars:6,consts:[[1,"container"],[4,"ngVar"],["class","header",3,"id",4,"ngIf"],[1,"header",3,"id"],[4,"ngIf"],[3,"report","class",4,"ngFor","ngForOf"],[3,"report"]],template:function(v,S){1&v&&(n.\u0275\u0275elementStart(0,"div",0),n.\u0275\u0275template(1,P,2,1,"ng-container",1),n.\u0275\u0275pipe(2,"async"),n.\u0275\u0275template(3,s,3,2,"ng-container",1),n.\u0275\u0275pipe(4,"async"),n.\u0275\u0275elementEnd()),2&v&&(n.\u0275\u0275advance(1),n.\u0275\u0275property("ngVar",n.\u0275\u0275pipeBind1(2,2,S.scope$)),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngVar",n.\u0275\u0275pipeBind1(4,4,S.reports$)))},directives:[T.g,O.O5,x.N,O.sg,I.A],pipes:[O.Ov,M.X$],styles:[""]}),a})()},10773:(y,E,e)=>{"use strict";e.r(E),e.d(E,{StatisticsPageRoutingModule:()=>z});var l=e(74202),r=e(84186),_=e(55633),t=e(69808),d=e(72081),n=e(42501),D=e(8563),p=e(10302),C=(e(71887),e(20810),e(52716),e(22711),e(61463),e(79094)),i=e(5e3);function P(o,h){}let g=(()=>{class o extends C.F{getComponentName(){return"CollectionStatisticsPageComponent"}importThemedComponent(f){return e(83127)(`./${f}/app/statistics-page/collection-statistics-page/collection-statistics-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,22711))}}return o.\u0275fac=function(){let h;return function(R){return(h||(h=i.\u0275\u0275getInheritedFactory(o)))(R||o)}}(),o.\u0275cmp=i.\u0275\u0275defineComponent({type:o,selectors:[["ds-themed-collection-statistics-page"]],features:[i.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(f,R){1&f&&i.\u0275\u0275template(0,P,0,0,"ng-template",null,0,i.\u0275\u0275templateRefExtractor)},encapsulation:2}),o})();function u(o,h){}let B=(()=>{class o extends C.F{getComponentName(){return"CommunityStatisticsPageComponent"}importThemedComponent(f){return e(37292)(`./${f}/app/statistics-page/community-statistics-page/community-statistics-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,61463))}}return o.\u0275fac=function(){let h;return function(R){return(h||(h=i.\u0275\u0275getInheritedFactory(o)))(R||o)}}(),o.\u0275cmp=i.\u0275\u0275defineComponent({type:o,selectors:[["ds-themed-collection-statistics-page"]],features:[i.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(f,R){1&f&&i.\u0275\u0275template(0,u,0,0,"ng-template",null,0,i.\u0275\u0275templateRefExtractor)},encapsulation:2}),o})();function U(o,h){}let s=(()=>{class o extends C.F{getComponentName(){return"ItemStatisticsPageComponent"}importThemedComponent(f){return e(85789)(`./${f}/app/statistics-page/item-statistics-page/item-statistics-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,52716))}}return o.\u0275fac=function(){let h;return function(R){return(h||(h=i.\u0275\u0275getInheritedFactory(o)))(R||o)}}(),o.\u0275cmp=i.\u0275\u0275defineComponent({type:o,selectors:[["ds-themed-item-statistics-page"]],features:[i.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(f,R){1&f&&i.\u0275\u0275template(0,U,0,0,"ng-template",null,0,i.\u0275\u0275templateRefExtractor)},encapsulation:2}),o})();function m(o,h){}let a=(()=>{class o extends C.F{getComponentName(){return"SiteStatisticsPageComponent"}importThemedComponent(f){return e(48798)(`./${f}/app/statistics-page/site-statistics-page/site-statistics-page.component`)}importUnthemedComponent(){return Promise.resolve().then(e.bind(e,71887))}}return o.\u0275fac=function(){let h;return function(R){return(h||(h=i.\u0275\u0275getInheritedFactory(o)))(R||o)}}(),o.\u0275cmp=i.\u0275\u0275defineComponent({type:o,selectors:[["ds-themed-site-statistics-page"]],features:[i.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["vcr",""]],template:function(f,R){1&f&&i.\u0275\u0275template(0,m,0,0,"ng-template",null,0,i.\u0275\u0275templateRefExtractor)},encapsulation:2}),o})(),v=(()=>{class o{}return o.\u0275fac=function(f){return new(f||o)},o.\u0275mod=i.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=i.\u0275\u0275defineInjector({providers:[p.F],imports:[[t.ez,n.m,d.IR.forRoot(),D.p.forRoot()]]}),o})();var S=e(40025),A=e(80692),L=e(40642),F=e(61695),K=e(86316),$=e(36696),V=e(39646),N=e(5587);let W=(()=>{class o extends F.C{constructor(f,R,j){super(f,R,j),this.authorizationService=f,this.router=R,this.authService=j}getFeatureID(f,R){return(0,V.of)(N.i.CanViewUsageStatistics)}}return o.\u0275fac=function(f){return new(f||o)(i.\u0275\u0275inject(K._),i.\u0275\u0275inject(l.F0),i.\u0275\u0275inject($.e8))},o.\u0275prov=i.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),z=(()=>{class o{}return o.\u0275fac=function(f){return new(f||o)},o.\u0275mod=i.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=i.\u0275\u0275defineInjector({providers:[r.t,_.d,S.l,A.h,L.I],imports:[[v,l.Bz.forChild([{path:"",resolve:{breadcrumb:r.t},data:{title:"statistics.title",breadcrumbKey:"statistics"},children:[{path:"",component:a}],canActivate:[W]},{path:"items/:id",resolve:{scope:L.I,breadcrumb:r.t},data:{title:"statistics.title",breadcrumbKey:"statistics"},component:s,canActivate:[W]},{path:"collections/:id",resolve:{scope:S.l,breadcrumb:r.t},data:{title:"statistics.title",breadcrumbKey:"statistics"},component:g,canActivate:[W]},{path:"communities/:id",resolve:{scope:A.h,breadcrumb:r.t},data:{title:"statistics.title",breadcrumbKey:"statistics"},component:B,canActivate:[W]}])]]}),o})()},2949:(y,E,e)=>{"use strict";e.d(E,{f:()=>x});var l=e(39841),r=e(10302),_=e(54004),t=e(63900),d=e(46283),n=e(36696),D=e(59130),p=e(5e3),T=e(74202),O=e(63782);let x=(()=>{class I{constructor(C,i,P,g,u){this.route=C,this.router=i,this.usageReportService=P,this.nameService=g,this.authService=u}ngOnInit(){this.scope$=this.getScope$(),this.reports$=this.getReports$(),this.hasData$=this.reports$.pipe((0,_.U)(C=>C.some(i=>i.points.length>0)))}getScope$(){return this.route.data.pipe((0,_.U)(C=>C.scope),(0,D.Gh)(this.router,this.authService),(0,d.xw)(),(0,d.xe)())}getReports$(){return this.scope$.pipe((0,t.w)(C=>(0,l.a)(this.types.map(i=>this.usageReportService.getStatistic(C.id,i)))))}getName(C){return this.nameService.getName(C)}}return I.\u0275fac=function(C){return new(C||I)(p.\u0275\u0275directiveInject(T.gz),p.\u0275\u0275directiveInject(T.F0),p.\u0275\u0275directiveInject(r.F),p.\u0275\u0275directiveInject(O._),p.\u0275\u0275directiveInject(n.e8))},I.\u0275cmp=p.\u0275\u0275defineComponent({type:I,selectors:[["ds-statistics-page"]],decls:0,vars:0,template:function(C,i){},encapsulation:2}),I})()},20810:(y,E,e)=>{"use strict";e.d(E,{A:()=>C}),e(40134);var r=e(39646),_=e(54004),t=e(46283),d=e(61195),n=e(5e3),D=e(63782),p=e(69808),T=e(86956);function O(i,P){if(1&i&&(n.\u0275\u0275elementStart(0,"th",3),n.\u0275\u0275text(1),n.\u0275\u0275elementEnd()),2&i){const g=P.$implicit;n.\u0275\u0275classMapInterpolate1("",g,"-header"),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",g," ")}}function x(i,P){if(1&i&&(n.\u0275\u0275elementStart(0,"td"),n.\u0275\u0275text(1),n.\u0275\u0275elementEnd()),2&i){const g=P.$implicit,u=n.\u0275\u0275nextContext().$implicit;n.\u0275\u0275classMapInterpolate2("",u.id,"-",g,"-data"),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate1(" ",u.values[g]," ")}}function I(i,P){if(1&i&&(n.\u0275\u0275elementStart(0,"tr")(1,"th",6),n.\u0275\u0275text(2),n.\u0275\u0275pipe(3,"async"),n.\u0275\u0275elementEnd(),n.\u0275\u0275template(4,x,2,5,"td",5),n.\u0275\u0275elementEnd()),2&i){const g=P.$implicit,u=n.\u0275\u0275nextContext(2);n.\u0275\u0275classMapInterpolate1("",g.id,"-data"),n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(3,5,u.getLabel(g))," "),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngForOf",u.headers)}}function M(i,P){if(1&i&&(n.\u0275\u0275elementStart(0,"div",1)(1,"h3",1),n.\u0275\u0275text(2),n.\u0275\u0275pipe(3,"translate"),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(4,"table",2)(5,"tbody")(6,"tr"),n.\u0275\u0275element(7,"th",3),n.\u0275\u0275template(8,O,2,4,"th",4),n.\u0275\u0275elementEnd(),n.\u0275\u0275template(9,I,5,7,"tr",5),n.\u0275\u0275elementEnd()()()),2&i){const g=n.\u0275\u0275nextContext();n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate1(" ",n.\u0275\u0275pipeBind1(3,3,"statistics.table.title."+g.report.reportType)," "),n.\u0275\u0275advance(6),n.\u0275\u0275property("ngForOf",g.headers),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",g.report.points)}}let C=(()=>{class i{constructor(g,u){this.dsoService=g,this.nameService=u}ngOnInit(){this.hasData=this.report.points.length>0,this.hasData&&(this.headers=Object.keys(this.report.points[0].values))}getLabel(g){return"TotalVisits"===this.report.reportType?this.dsoService.findById(g.id).pipe((0,t.xw)(),(0,t.xe)(),(0,_.U)(u=>this.nameService.getName(u))):(0,r.of)(g.label)}}return i.\u0275fac=function(g){return new(g||i)(n.\u0275\u0275directiveInject(d.D),n.\u0275\u0275directiveInject(D._))},i.\u0275cmp=n.\u0275\u0275defineComponent({type:i,selectors:[["ds-statistics-table"]],inputs:{report:"report"},decls:1,vars:1,consts:[["class","m-1",4,"ngIf"],[1,"m-1"],[1,"table","table-striped"],["scope","col"],["scope","col",3,"class",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"],["scope","row"]],template:function(g,u){1&g&&n.\u0275\u0275template(0,M,10,5,"div",0),2&g&&n.\u0275\u0275property("ngIf",u.hasData)},directives:[p.O5,p.sg],pipes:[T.X$,p.Ov],styles:["th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.5rem}td[_ngcontent-%COMP%]{width:50px;max-width:50px}"]}),i})()},83127:(y,E,e)=>{var l={"./custom/app/statistics-page/collection-statistics-page/collection-statistics-page.component":[94322,4322]};function r(_){if(!e.o(l,_))return Promise.resolve().then(()=>{var n=new Error("Cannot find module '"+_+"'");throw n.code="MODULE_NOT_FOUND",n});var t=l[_],d=t[0];return e.e(t[1]).then(()=>e(d))}r.keys=()=>Object.keys(l),r.id=83127,y.exports=r},37292:(y,E,e)=>{var l={"./custom/app/statistics-page/community-statistics-page/community-statistics-page.component":[64859,4859]};function r(_){if(!e.o(l,_))return Promise.resolve().then(()=>{var n=new Error("Cannot find module '"+_+"'");throw n.code="MODULE_NOT_FOUND",n});var t=l[_],d=t[0];return e.e(t[1]).then(()=>e(d))}r.keys=()=>Object.keys(l),r.id=37292,y.exports=r},85789:(y,E,e)=>{var l={"./custom/app/statistics-page/item-statistics-page/item-statistics-page.component":[70337,337]};function r(_){if(!e.o(l,_))return Promise.resolve().then(()=>{var n=new Error("Cannot find module '"+_+"'");throw n.code="MODULE_NOT_FOUND",n});var t=l[_],d=t[0];return e.e(t[1]).then(()=>e(d))}r.keys=()=>Object.keys(l),r.id=85789,y.exports=r},48798:(y,E,e)=>{var l={"./custom/app/statistics-page/site-statistics-page/site-statistics-page.component":[29107,9107]};function r(_){if(!e.o(l,_))return Promise.resolve().then(()=>{var n=new Error("Cannot find module '"+_+"'");throw n.code="MODULE_NOT_FOUND",n});var t=l[_],d=t[0];return e.e(t[1]).then(()=>e(d))}r.keys=()=>Object.keys(l),r.id=48798,y.exports=r}}]);