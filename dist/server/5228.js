var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=5228,exports.ids=[5228],exports.modules={75228:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{LookupIdModule:()=>LookupIdModule});var common=__webpack_require__(69808),shared_module=__webpack_require__(42501),request_models=__webpack_require__(71776),operators=__webpack_require__(83292),empty_util=__webpack_require__(38475),notifications_service=__webpack_require__(55489),remote_data_build_service=__webpack_require__(1642),object_cache_service=__webpack_require__(27139),hal_endpoint_service=__webpack_require__(3592),data_service=__webpack_require__(85114),dso_change_analyzer_service=__webpack_require__(88369),request_service=__webpack_require__(64025),shared_operators=__webpack_require__(56672),item_page_routing_paths=__webpack_require__(96140),core=__webpack_require__(5e3),ngrx_store=__webpack_require__(85094),http=__webpack_require__(40520),router=__webpack_require__(74202);class DsoRedirectDataService extends data_service.D{constructor(requestService,rdbService,store,objectCache,halService,notificationsService,http2,comparator,router2){super(),this.requestService=requestService,this.rdbService=rdbService,this.store=store,this.objectCache=objectCache,this.halService=halService,this.notificationsService=notificationsService,this.http=http2,this.comparator=comparator,this.router=router2,this.linkPath="pid",this.uuidEndpoint="dso"}setLinkPath(identifierType){identifierType===request_models.fT.UUID&&(this.linkPath=this.uuidEndpoint)}getIDHref(endpoint,resourceID,...linksToFollow){return this.buildHrefFromFindOptions(endpoint.replace(/\{\?id\}/,`?id=${resourceID}`).replace(/\{\?uuid\}/,`?uuid=${resourceID}`),{},[],...linksToFollow)}findByIdAndIDType(id,identifierType=request_models.fT.UUID){return this.setLinkPath(identifierType),this.findById(id).pipe((0,shared_operators.hC)(),(0,operators.bw)(response=>{if(response.hasSucceeded){const dso=response.payload,uuid=dso.uuid;if((0,empty_util.Uh)(uuid)){let newRoute=this.getEndpointFromDSOType(response.payload.type);dso.type.startsWith("item")?newRoute=(0,item_page_routing_paths.Tt)(dso):(0,empty_util.Uh)(newRoute)&&(newRoute+="/"+uuid),(0,empty_util.Uh)(newRoute)&&this.router.navigate([newRoute])}}}))}getEndpointFromDSOType(dsoType){return dsoType.startsWith("item")?"items":dsoType.startsWith("community")?"communities":dsoType.startsWith("collection")?"collections":""}}__name(DsoRedirectDataService,"DsoRedirectDataService"),DsoRedirectDataService.\u0275fac=__name(function(t){return new(t||DsoRedirectDataService)(core.LFG(request_service.s),core.LFG(remote_data_build_service.Q),core.LFG(ngrx_store.yh),core.LFG(object_cache_service.a),core.LFG(hal_endpoint_service.q),core.LFG(notifications_service.T),core.LFG(http.eN),core.LFG(dso_change_analyzer_service.o),core.LFG(router.F0))},"DsoRedirectDataService_Factory"),DsoRedirectDataService.\u0275prov=core.Yz7({token:DsoRedirectDataService,factory:DsoRedirectDataService.\u0275fac});class LookupGuard{constructor(dsoService){this.dsoService=dsoService}canActivate(route,state){const params=this.getLookupParams(route);return this.dsoService.findByIdAndIDType(params.id,params.type).pipe((0,operators.UI)(response=>response.hasFailed))}getLookupParams(route){let type,id;const idType=route.params.idType;if(idType!==request_models.fT.HANDLE&&idType!==request_models.fT.UUID){type=request_models.fT.HANDLE;id=`hdl:${route.params.idType}/${route.params.id}`}else route.params.idType===request_models.fT.HANDLE?(type=request_models.fT.HANDLE,id="hdl:"+route.params.id):(type=request_models.fT.UUID,id=route.params.id);return{type,id}}}__name(LookupGuard,"LookupGuard"),LookupGuard.\u0275fac=__name(function(t){return new(t||LookupGuard)(core.LFG(DsoRedirectDataService))},"LookupGuard_Factory"),LookupGuard.\u0275prov=core.Yz7({token:LookupGuard,factory:LookupGuard.\u0275fac});var themed_component=__webpack_require__(79094);function ThemedObjectNotFoundComponent_ng_template_0_Template(rf,ctx){}__name(ThemedObjectNotFoundComponent_ng_template_0_Template,"ThemedObjectNotFoundComponent_ng_template_0_Template");class ThemedObjectNotFoundComponent extends themed_component.F{getComponentName(){return"ObjectNotFoundComponent"}importThemedComponent(themeName){return __webpack_require__(98947)(`./${themeName}/app/lookup-by-id/objectnotfound/objectnotfound.component`)}importUnthemedComponent(){return __webpack_require__.e(6926).then(__webpack_require__.bind(__webpack_require__,16926))}}__name(ThemedObjectNotFoundComponent,"ThemedObjectNotFoundComponent"),ThemedObjectNotFoundComponent.\u0275fac=function(){let \u0275ThemedObjectNotFoundComponent_BaseFactory;return __name(function(t){return(\u0275ThemedObjectNotFoundComponent_BaseFactory||(\u0275ThemedObjectNotFoundComponent_BaseFactory=core.n5z(ThemedObjectNotFoundComponent)))(t||ThemedObjectNotFoundComponent)},"ThemedObjectNotFoundComponent_Factory")}(),ThemedObjectNotFoundComponent.\u0275cmp=core.Xpm({type:ThemedObjectNotFoundComponent,selectors:[["ds-themed-objnotfound"]],features:[core.qOj],decls:2,vars:0,consts:[["vcr",""]],template:__name(function(rf,ctx){1&rf&&core.YNc(0,ThemedObjectNotFoundComponent_ng_template_0_Template,0,0,"ng-template",null,0,core.W1O)},"ThemedObjectNotFoundComponent_Template"),encapsulation:2});class LookupRoutingModule{}function urlMatcher(url){const idType=url[0].path,id=url.slice(1).map(us=>us.path).join("/");return(0,empty_util.UE)(idType)&&(0,empty_util.UE)(id)?{consumed:url,posParams:{idType:new router.bq(idType,{}),id:new router.bq(id,{})}}:null}__name(LookupRoutingModule,"LookupRoutingModule"),LookupRoutingModule.\u0275fac=__name(function(t){return new(t||LookupRoutingModule)},"LookupRoutingModule_Factory"),LookupRoutingModule.\u0275mod=core.oAB({type:LookupRoutingModule}),LookupRoutingModule.\u0275inj=core.cJS({providers:[LookupGuard],imports:[[router.Bz.forChild([{matcher:urlMatcher,canActivate:[LookupGuard],component:ThemedObjectNotFoundComponent}])]]}),__name(urlMatcher,"urlMatcher");class LookupIdModule{}__name(LookupIdModule,"LookupIdModule"),LookupIdModule.\u0275fac=__name(function(t){return new(t||LookupIdModule)},"LookupIdModule_Factory"),LookupIdModule.\u0275mod=core.oAB({type:LookupIdModule}),LookupIdModule.\u0275inj=core.cJS({providers:[DsoRedirectDataService],imports:[[LookupRoutingModule,common.ez,shared_module.m]]})},98947:(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./custom/app/lookup-by-id/objectnotfound/objectnotfound.component":[30160,160]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return __webpack_require__.e(ids[1]).then(()=>__webpack_require__(id))}__name(webpackAsyncContext,"webpackAsyncContext"),webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id=98947,module.exports=webpackAsyncContext}};